<!doctype html><html><head><title>Chroma Style Gallery</title><style>body { font-family: sans-serif; margin: 4em; } h1 { border-bottom: 3px solid red; margin-bottom: 2em; } pre { display: inline-block; margin: 2em; padding: 3em 5em 3em 2em; box-shadow: 5px 5px 5px rgba(68, 68, 68, 0.6); border-radius: 7px; border: 2px solid black;} #stylelink:link { text-decoration: none; color: black; } #stylelink:visited { color: black; } #stylelink:hover { color: #4682B4; } a { color: #1E385B; }</style></head><body><h1>Chroma Style Gallery</h1><a name='abap'><h2><a id='stylelink' href='abap.html' alt='View only abap'>abap</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">package</span> <span style="color: #000000">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #55aa22">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #55aa22">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #55aa22">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">type</span> <span style="color: #000000">Moo</span> <span style="color: #0000ff">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Cow</span>   <span style="color: #0000ff">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Sound</span> <span style="color: #0000ff">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Tube</span>  <span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">num</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #0000ff">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">tube</span> <span class="o">:=</span> <span style="color: #000000">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">case</span> <span style="color: #000000">mootube</span> <span class="o">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #000000">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span style="color: #000000">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">mootube</span> <span class="o">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000ff">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #55aa22">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Duration</span><span class="p">(</span><span style="color: #000000">rand</span><span class="p">.</span><span style="color: #000000">Int31n</span><span class="p">(</span><span style="color: #33aaff">1000</span><span class="p">))</span> <span class="o">*</span> <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #0000ff">chan</span> <span style="color: #000000">Moo</span><span class="p">,</span> <span style="color: #000000">farmertube</span> <span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span style="color: #000000">hungryCows</span> <span class="o">:=</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">hungryCows</span> <span class="p">&gt;</span> <span style="color: #33aaff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #000000">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">if</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span> <span class="o">==</span> <span style="color: #55aa22">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #0000ff">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span><span class="p">,</span> <span style="color: #55aa22">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #33aaff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmertube</span> <span class="o">&lt;-</span> <span style="color: #55aa22">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #0000ff">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmertube</span> <span class="o">:=</span> <span style="color: #000000">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">mootube</span> <span class="o">:=</span> <span style="color: #000000">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span style="color: #000000">cownum</span> <span class="o">:=</span> <span style="color: #33aaff">0</span><span class="p">;</span> <span style="color: #000000">cownum</span> <span class="p">&lt;</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">go</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">cownum</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">go</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">,</span> <span style="color: #000000">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #000000">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">if</span> <span style="color: #000000">farmerSaid</span> <span class="o">==</span> <span style="color: #55aa22">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">func</span> <span style="color: #000000">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #33aaff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #55aa22">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='algol'><h2><a id='stylelink' href='algol.html' alt='View only algol'>algol</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold; text-decoration: underline">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold; text-decoration: underline">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-style: italic">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-style: italic">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-style: italic">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold; font-style: italic; text-decoration: underline">type</span> <span class="nx">Moo</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="font-weight: bold; text-decoration: underline">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="font-weight: bold; text-decoration: underline">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">num</span> <span style="font-weight: bold; text-decoration: underline">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold; text-decoration: underline">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold; text-decoration: underline">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold; text-decoration: underline">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold; text-decoration: underline">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="font-weight: bold; text-decoration: underline">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold; text-decoration: underline">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold; text-decoration: underline">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold; text-decoration: underline">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold; text-decoration: underline">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="font-weight: bold; text-decoration: underline">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="font-weight: bold; text-decoration: underline">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold; text-decoration: underline">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span style="font-weight: bold; text-decoration: underline">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic; text-decoration: underline">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold; text-decoration: underline">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold; text-decoration: underline">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold; text-decoration: underline">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold; text-decoration: underline">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold; font-style: italic; text-decoration: underline">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='algol_nu'><h2><a id='stylelink' href='algol_nu.html' alt='View only algol_nu'>algol_nu</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-style: italic">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-style: italic">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-style: italic">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold; font-style: italic">type</span> <span class="nx">Moo</span> <span style="font-weight: bold; font-style: italic">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">num</span> <span style="font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #666666; font-style: italic">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic">chan</span> <span style="font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="font-weight: bold; font-style: italic">make</span><span class="p">(</span><span style="font-weight: bold; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">go</span> <span style="color: #666666; font-weight: bold; font-style: italic">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #666666; font-style: italic">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold; font-style: italic">func</span> <span style="color: #666666; font-weight: bold; font-style: italic">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #666666; font-weight: bold; font-style: italic">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #666666; font-weight: bold; font-style: italic">Println</span><span class="p">(</span><span style="color: #666666; font-style: italic">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='arduino'><h2><a id='stylelink' href='arduino.html' alt='View only arduino'>arduino</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #728e00">package</span> <span style="color: #728e00">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #728e00">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #7f8c8d">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #7f8c8d">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #7f8c8d">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #728e00">type</span> <span style="color: #728e00">Moo</span> <span style="color: #728e00">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">Cow</span>   <span style="color: #00979d">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">Sound</span> <span style="color: #00979d">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">Tube</span>  <span style="color: #728e00">chan</span> <span style="color: #00979d">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #95a5a6">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #95a5a6"></span><span style="color: #728e00">func</span> <span style="color: #d35400">cow</span><span class="p">(</span><span style="color: #728e00">num</span> <span style="color: #00979d">int</span><span class="p">,</span> <span style="color: #728e00">mootube</span> <span style="color: #728e00">chan</span> <span style="color: #728e00">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">tube</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">make</span><span class="p">(</span><span style="color: #728e00">chan</span> <span style="color: #00979d">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">case</span> <span style="color: #728e00">mootube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #728e00">Moo</span><span class="p">{</span><span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #728e00">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">&lt;-</span><span style="color: #728e00">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">mootube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #728e00">Moo</span><span class="p">{</span><span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #00979d">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">num</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">time</span><span class="p">.</span><span style="color: #d35400">Sleep</span><span class="p">(</span><span style="color: #728e00">time</span><span class="p">.</span><span style="color: #d35400">Duration</span><span class="p">(</span><span style="color: #728e00">rand</span><span class="p">.</span><span style="color: #d35400">Int31n</span><span class="p">(</span><span style="color: #8a7b52">1000</span><span class="p">))</span> <span style="color: #728e00">*</span> <span style="color: #728e00">time</span><span class="p">.</span><span style="color: #728e00">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #95a5a6">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #95a5a6"></span><span style="color: #728e00">func</span> <span style="color: #d35400">farmer</span><span class="p">(</span><span style="color: #728e00">numcows</span> <span style="color: #00979d">int</span><span class="p">,</span> <span style="color: #728e00">mootube</span> <span style="color: #728e00">chan</span> <span style="color: #728e00">Moo</span><span class="p">,</span> <span style="color: #728e00">farmertube</span> <span style="color: #728e00">chan</span> <span style="color: #00979d">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">for</span> <span style="color: #728e00">hungryCows</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">numcows</span><span class="p">;</span> <span style="color: #728e00">hungryCows</span> <span class="p">&gt;</span> <span style="color: #8a7b52">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">moo</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">&lt;-</span><span style="color: #728e00">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">if</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Sound</span> <span style="color: #728e00">==</span> <span style="color: #7f8c8d">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">hungryCows</span><span style="color: #728e00">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #728e00">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Sound</span><span class="p">,</span> <span style="color: #7f8c8d">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">time</span><span class="p">.</span><span style="color: #d35400">Sleep</span><span class="p">(</span><span style="color: #8a7b52">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #728e00">moo</span><span class="p">.</span><span style="color: #728e00">Tube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #00979d">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">farmertube</span> <span style="color: #728e00">&lt;-</span> <span style="color: #7f8c8d">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #95a5a6">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #95a5a6"></span><span style="color: #728e00">func</span> <span style="color: #d35400">runFarm</span><span class="p">(</span><span style="color: #728e00">numcows</span> <span style="color: #00979d">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">farmertube</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">make</span><span class="p">(</span><span style="color: #728e00">chan</span> <span style="color: #00979d">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">mootube</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">make</span><span class="p">(</span><span style="color: #728e00">chan</span> <span style="color: #728e00">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">for</span> <span style="color: #728e00">cownum</span> <span style="color: #728e00">:=</span> <span style="color: #8a7b52">0</span><span class="p">;</span> <span style="color: #728e00">cownum</span> <span class="p">&lt;</span> <span style="color: #728e00">numcows</span><span class="p">;</span> <span style="color: #728e00">cownum</span><span style="color: #728e00">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">go</span> <span style="color: #d35400">cow</span><span class="p">(</span><span style="color: #728e00">cownum</span><span class="p">,</span> <span style="color: #728e00">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">go</span> <span style="color: #d35400">farmer</span><span class="p">(</span><span style="color: #728e00">numcows</span><span class="p">,</span> <span style="color: #728e00">mootube</span><span class="p">,</span> <span style="color: #728e00">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">farmerSaid</span> <span style="color: #728e00">:=</span> <span style="color: #728e00">&lt;-</span><span style="color: #728e00">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">if</span> <span style="color: #728e00">farmerSaid</span> <span style="color: #728e00">==</span> <span style="color: #7f8c8d">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #728e00">func</span> <span style="color: #d35400">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #d35400">runFarm</span><span class="p">(</span><span style="color: #8a7b52">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #728e00">fmt</span><span class="p">.</span><span style="color: #d35400">Println</span><span class="p">(</span><span style="color: #7f8c8d">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='autumn'><h2><a id='stylelink' href='autumn.html' alt='View only autumn'>autumn</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000aa">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000aa">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa5500">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa5500">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa5500">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000aa">type</span> <span class="nx">Moo</span> <span style="color: #0000aa">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #00aaaa">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #00aaaa">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #0000aa">chan</span> <span style="color: #00aaaa">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aaaaaa; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #aaaaaa; font-style: italic"></span><span style="color: #0000aa">func</span> <span style="color: #00aa00">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00aaaa">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000aa">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #00aaaa">make</span><span class="p">(</span><span style="color: #0000aa">chan</span> <span style="color: #00aaaa">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000aa">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000aa">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000aa">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000aa">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000aa">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000aa">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #aa5500">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #00aa00">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #00aa00">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #00aa00">Int31n</span><span class="p">(</span><span style="color: #009999">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aaaaaa; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #aaaaaa; font-style: italic"></span><span style="color: #0000aa">func</span> <span style="color: #00aa00">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00aaaa">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000aa">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0000aa">chan</span> <span style="color: #00aaaa">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000aa">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000aa">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #aa5500">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #0000aa">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #aa5500">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #00aa00">Sleep</span><span class="p">(</span><span style="color: #009999">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000aa">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #aa5500">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aaaaaa; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #aaaaaa; font-style: italic"></span><span style="color: #0000aa">func</span> <span style="color: #00aa00">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00aaaa">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #00aaaa">make</span><span class="p">(</span><span style="color: #0000aa">chan</span> <span style="color: #00aaaa">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #00aaaa">make</span><span class="p">(</span><span style="color: #0000aa">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000aa">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000aa">go</span> <span style="color: #00aa00">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000aa">go</span> <span style="color: #00aa00">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000aa">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #aa5500">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000aa">func</span> <span style="color: #00aa00">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00aa00">runFarm</span><span class="p">(</span><span style="color: #009999">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00aa00">Println</span><span class="p">(</span><span style="color: #aa5500">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='average'><h2><a id='stylelink' href='average.html' alt='View only average'>average</a></h2></a><code><pre style="color: #757575; background-color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ec0000">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ec0000">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008900">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008900">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008900">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ec0000">type</span> <span class="nx">Moo</span> <span style="color: #ec0000">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #5f5fff">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #5f5fff">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #ec0000">chan</span> <span style="color: #5f5fff">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span class="c1">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span class="c1"></span><span style="color: #ec0000">func</span> <span style="color: #5f5fff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #5f5fff">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ec0000">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #ec0000">:=</span> <span style="color: #ec0000">make</span><span class="p">(</span><span style="color: #ec0000">chan</span> <span style="color: #5f5fff">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ec0000">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ec0000">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ec0000">case</span> <span class="nx">mootube</span> <span style="color: #ec0000">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #008900">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #008900">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ec0000">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #008900">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #ec0000">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #008900">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ec0000">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #008900">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ec0000">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ec0000">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #008900">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #5f5fff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #5f5fff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #5f5fff">Int31n</span><span class="p">(</span><span style="color: #008900">1000</span><span class="p">))</span> <span style="color: #ec0000">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span class="c1">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span class="c1"></span><span style="color: #ec0000">func</span> <span style="color: #5f5fff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #5f5fff">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ec0000">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ec0000">chan</span> <span style="color: #5f5fff">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ec0000">for</span> <span class="nx">hungryCows</span> <span style="color: #ec0000">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #008900">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #ec0000">:=</span> <span style="color: #ec0000">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ec0000">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #ec0000">==</span> <span style="color: #008900">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #ec0000">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ec0000">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #008900">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #5f5fff">Sleep</span><span class="p">(</span><span style="color: #008900">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #ec0000">&lt;-</span> <span style="color: #ec0000">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ec0000">&lt;-</span> <span style="color: #008900">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span class="c1">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span class="c1"></span><span style="color: #ec0000">func</span> <span style="color: #5f5fff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #5f5fff">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ec0000">:=</span> <span style="color: #ec0000">make</span><span class="p">(</span><span style="color: #ec0000">chan</span> <span style="color: #5f5fff">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #ec0000">:=</span> <span style="color: #ec0000">make</span><span class="p">(</span><span style="color: #ec0000">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ec0000">for</span> <span class="nx">cownum</span> <span style="color: #ec0000">:=</span> <span style="color: #008900">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #ec0000">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ec0000">go</span> <span style="color: #5f5fff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ec0000">go</span> <span style="color: #5f5fff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #ec0000">:=</span> <span style="color: #ec0000">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ec0000">if</span> <span class="nx">farmerSaid</span> <span style="color: #ec0000">==</span> <span style="color: #008900">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ec0000">func</span> <span style="color: #5f5fff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5f5fff">runFarm</span><span class="p">(</span><span style="color: #008900">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #5f5fff">Println</span><span class="p">(</span><span style="color: #008900">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='base16-snazzy'><h2><a id='stylelink' href='base16-snazzy.html' alt='View only base16-snazzy'>base16-snazzy</a></h2></a><code><pre style="color: #e2e4e5; background-color: #282a36;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff6ac1">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff6ac1">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5af78e">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5af78e">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5af78e">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff5c57">type</span> <span class="nx">Moo</span> <span style="color: #ff5c57">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #9aedfe">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #9aedfe">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #ff5c57">chan</span> <span style="color: #9aedfe">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #78787e">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #78787e"></span><span style="color: #ff5c57">func</span> <span style="color: #57c7ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #9aedfe">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff5c57">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #ff6ac1">:=</span> <span style="color: #ff5c57">make</span><span class="p">(</span><span style="color: #ff5c57">chan</span> <span style="color: #9aedfe">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff6ac1">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff6ac1">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff6ac1">case</span> <span class="nx">mootube</span> <span style="color: #ff6ac1">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #5af78e">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #5af78e">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff6ac1">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #5af78e">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #ff6ac1">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #5af78e">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ff6ac1">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #5af78e">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff6ac1">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff6ac1">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #5af78e">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #57c7ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #57c7ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #57c7ff">Int31n</span><span class="p">(</span><span style="color: #ff9f43">1000</span><span class="p">))</span> <span style="color: #ff6ac1">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #78787e">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #78787e"></span><span style="color: #ff5c57">func</span> <span style="color: #57c7ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #9aedfe">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff5c57">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ff5c57">chan</span> <span style="color: #9aedfe">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff6ac1">for</span> <span class="nx">hungryCows</span> <span style="color: #ff6ac1">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ff9f43">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #ff6ac1">:=</span> <span style="color: #ff6ac1">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff6ac1">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #ff6ac1">==</span> <span style="color: #5af78e">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #ff6ac1">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ff6ac1">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #5af78e">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #57c7ff">Sleep</span><span class="p">(</span><span style="color: #ff9f43">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #ff6ac1">&lt;-</span> <span style="color: #ff6ac1">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ff6ac1">&lt;-</span> <span style="color: #5af78e">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #78787e">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #78787e"></span><span style="color: #ff5c57">func</span> <span style="color: #57c7ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #9aedfe">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ff6ac1">:=</span> <span style="color: #ff5c57">make</span><span class="p">(</span><span style="color: #ff5c57">chan</span> <span style="color: #9aedfe">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #ff6ac1">:=</span> <span style="color: #ff5c57">make</span><span class="p">(</span><span style="color: #ff5c57">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff6ac1">for</span> <span class="nx">cownum</span> <span style="color: #ff6ac1">:=</span> <span style="color: #ff9f43">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #ff6ac1">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff6ac1">go</span> <span style="color: #57c7ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff6ac1">go</span> <span style="color: #57c7ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #ff6ac1">:=</span> <span style="color: #ff6ac1">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff6ac1">if</span> <span class="nx">farmerSaid</span> <span style="color: #ff6ac1">==</span> <span style="color: #5af78e">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff5c57">func</span> <span style="color: #57c7ff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #57c7ff">runFarm</span><span class="p">(</span><span style="color: #ff9f43">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #57c7ff">Println</span><span class="p">(</span><span style="color: #5af78e">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='borland'><h2><a id='stylelink' href='borland.html' alt='View only borland'>borland</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #000080; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #000080; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #000080; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic"></span><span style="color: #000080; font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #000080; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000080; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000080; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000080; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000080; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #000080; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000080; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000080; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0000ff">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #0000ff">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic"></span><span style="color: #000080; font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #000080; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000080; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000080; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000ff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000080; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #0000ff">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #000080; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #0000ff">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #0000ff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #000080; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic"></span><span style="color: #000080; font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #000080; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #000080; font-weight: bold">chan</span> <span style="color: #000080; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #000080; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000080; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #0000ff">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000080; font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000080; font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000080; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #0000ff">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080; font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #0000ff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #0000ff">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='bw'><h2><a id='stylelink' href='bw.html' alt='View only bw'>bw</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-style: italic">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-style: italic">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-style: italic">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">type</span> <span class="nx">Moo</span> <span style="font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="font-weight: bold">chan</span> <span style="">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="font-style: italic"></span><span style="font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="font-style: italic">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="font-style: italic"></span><span style="font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold">chan</span> <span style="">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="font-style: italic">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="font-style: italic">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="font-style: italic">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="font-style: italic"></span><span style="font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="font-style: italic">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nf">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="font-style: italic">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='catppuccin-frappe'><h2><a id='stylelink' href='catppuccin-frappe.html' alt='View only catppuccin-frappe'>catppuccin-frappe</a></h2></a><code><pre style="color: #ef9f76; background-color: #303446;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ca9ee6">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ca9ee6">import</span> <span style="color: #c6d0f5">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6d189">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6d189">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6d189">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ca9ee6">type</span> <span class="nx">Moo</span> <span style="color: #ca9ee6">struct</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #e5c890">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #e5c890">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #ca9ee6">chan</span> <span style="color: #e5c890">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #626880; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #626880; font-style: italic"></span><span style="color: #ca9ee6">func</span> <span style="color: #99d1db">cow</span><span style="color: #c6d0f5">(</span><span class="nx">num</span> <span style="color: #e5c890">int</span><span style="color: #c6d0f5">,</span> <span class="nx">mootube</span> <span style="color: #ca9ee6">chan</span> <span class="nx">Moo</span><span style="color: #c6d0f5">)</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #99d1db">:=</span> <span style="color: #c6d0f5; font-style: italic">make</span><span style="color: #c6d0f5">(</span><span style="color: #ca9ee6">chan</span> <span style="color: #e5c890">bool</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ca9ee6">for</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ca9ee6">select</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ca9ee6">case</span> <span class="nx">mootube</span> <span style="color: #99d1db">&lt;-</span> <span class="nx">Moo</span><span style="color: #c6d0f5">{</span><span class="nx">num</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;moo&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">tube</span><span style="color: #c6d0f5">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">num</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;mooed through the mootube&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #99d1db">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">num</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;is being fed and stops mooing&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #99d1db">&lt;-</span> <span class="nx">Moo</span><span style="color: #c6d0f5">{</span><span class="nx">num</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;mooh&#34;</span><span style="color: #c6d0f5">,</span> <span style="color: #ca9ee6; font-style: italic">nil</span><span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">num</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;moos one last time out of happyness&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ca9ee6">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ca9ee6">default</span><span style="color: #c6d0f5">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">num</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Sleep</span><span style="color: #c6d0f5">(</span><span class="nx">time</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Duration</span><span style="color: #c6d0f5">(</span><span class="nx">rand</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Int31n</span><span style="color: #c6d0f5">(</span><span class="mi">1000</span><span style="color: #c6d0f5">))</span> <span style="color: #99d1db">*</span> <span class="nx">time</span><span style="color: #c6d0f5">.</span><span class="nx">Millisecond</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #626880; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #626880; font-style: italic"></span><span style="color: #ca9ee6">func</span> <span style="color: #99d1db">farmer</span><span style="color: #c6d0f5">(</span><span class="nx">numcows</span> <span style="color: #e5c890">int</span><span style="color: #c6d0f5">,</span> <span class="nx">mootube</span> <span style="color: #ca9ee6">chan</span> <span class="nx">Moo</span><span style="color: #c6d0f5">,</span> <span class="nx">farmertube</span> <span style="color: #ca9ee6">chan</span> <span style="color: #e5c890">string</span><span style="color: #c6d0f5">)</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ca9ee6">for</span> <span class="nx">hungryCows</span> <span style="color: #99d1db">:=</span> <span class="nx">numcows</span><span style="color: #c6d0f5">;</span> <span class="nx">hungryCows</span> <span style="color: #c6d0f5">&gt;</span> <span class="mi">0</span><span style="color: #c6d0f5">;</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #99d1db">:=</span> <span style="color: #99d1db">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ca9ee6">if</span> <span class="nx">moo</span><span style="color: #c6d0f5">.</span><span class="nx">Sound</span> <span style="color: #99d1db">==</span> <span style="color: #a6d189">&#34;mooh&#34;</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">moo</span><span style="color: #c6d0f5">.</span><span class="nx">Cow</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #99d1db">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6d0f5">}</span> <span style="color: #ca9ee6">else</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Farmer heard a&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">moo</span><span style="color: #c6d0f5">.</span><span class="nx">Sound</span><span style="color: #c6d0f5">,</span> <span style="color: #a6d189">&#34;from cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">moo</span><span style="color: #c6d0f5">.</span><span class="nx">Cow</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Sleep</span><span style="color: #c6d0f5">(</span><span class="mf">2e9</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #c6d0f5">,</span> <span class="nx">moo</span><span style="color: #c6d0f5">.</span><span class="nx">Cow</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #c6d0f5">.</span><span class="nx">Tube</span> <span style="color: #99d1db">&lt;-</span> <span style="color: #ca9ee6; font-style: italic">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #99d1db">&lt;-</span> <span style="color: #a6d189">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #626880; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #626880; font-style: italic"></span><span style="color: #ca9ee6">func</span> <span style="color: #99d1db">runFarm</span><span style="color: #c6d0f5">(</span><span class="nx">numcows</span> <span style="color: #e5c890">int</span><span style="color: #c6d0f5">)</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #99d1db">:=</span> <span style="color: #c6d0f5; font-style: italic">make</span><span style="color: #c6d0f5">(</span><span style="color: #ca9ee6">chan</span> <span style="color: #e5c890">string</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #99d1db">:=</span> <span style="color: #c6d0f5; font-style: italic">make</span><span style="color: #c6d0f5">(</span><span style="color: #ca9ee6">chan</span> <span class="nx">Moo</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ca9ee6">for</span> <span class="nx">cownum</span> <span style="color: #99d1db">:=</span> <span class="mi">0</span><span style="color: #c6d0f5">;</span> <span class="nx">cownum</span> <span style="color: #c6d0f5">&lt;</span> <span class="nx">numcows</span><span style="color: #c6d0f5">;</span> <span class="nx">cownum</span><span style="color: #99d1db">++</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ca9ee6">go</span> <span style="color: #99d1db">cow</span><span style="color: #c6d0f5">(</span><span class="nx">cownum</span><span style="color: #c6d0f5">,</span> <span class="nx">mootube</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ca9ee6">go</span> <span style="color: #99d1db">farmer</span><span style="color: #c6d0f5">(</span><span class="nx">numcows</span><span style="color: #c6d0f5">,</span> <span class="nx">mootube</span><span style="color: #c6d0f5">,</span> <span class="nx">farmertube</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #99d1db">:=</span> <span style="color: #99d1db">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ca9ee6">if</span> <span class="nx">farmerSaid</span> <span style="color: #99d1db">==</span> <span style="color: #a6d189">&#34;yey!&#34;</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;All cows are happy.&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6d0f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ca9ee6">func</span> <span style="color: #99d1db">main</span><span style="color: #c6d0f5">()</span> <span style="color: #c6d0f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #99d1db">runFarm</span><span style="color: #c6d0f5">(</span><span class="mi">4</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #c6d0f5">.</span><span style="color: #99d1db">Println</span><span style="color: #c6d0f5">(</span><span style="color: #a6d189">&#34;done&#34;</span><span style="color: #c6d0f5">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6d0f5">}</span></span></span></code></pre></code><a name='catppuccin-latte'><h2><a id='stylelink' href='catppuccin-latte.html' alt='View only catppuccin-latte'>catppuccin-latte</a></h2></a><code><pre style="color: #fe640b; background-color: #eff1f5;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8839ef">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8839ef">import</span> <span style="color: #4c4f69">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #40a02b">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #40a02b">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #40a02b">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8839ef">type</span> <span class="nx">Moo</span> <span style="color: #8839ef">struct</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #df8e1d">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #df8e1d">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #8839ef">chan</span> <span style="color: #df8e1d">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #acb0be; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #acb0be; font-style: italic"></span><span style="color: #8839ef">func</span> <span style="color: #04a5e5">cow</span><span style="color: #4c4f69">(</span><span class="nx">num</span> <span style="color: #df8e1d">int</span><span style="color: #4c4f69">,</span> <span class="nx">mootube</span> <span style="color: #8839ef">chan</span> <span class="nx">Moo</span><span style="color: #4c4f69">)</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #04a5e5">:=</span> <span style="font-style: italic">make</span><span style="color: #4c4f69">(</span><span style="color: #8839ef">chan</span> <span style="color: #df8e1d">bool</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8839ef">for</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8839ef">select</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8839ef">case</span> <span class="nx">mootube</span> <span style="color: #04a5e5">&lt;-</span> <span class="nx">Moo</span><span style="color: #4c4f69">{</span><span class="nx">num</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;moo&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">tube</span><span style="color: #4c4f69">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">num</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;mooed through the mootube&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #04a5e5">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">num</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;is being fed and stops mooing&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #04a5e5">&lt;-</span> <span class="nx">Moo</span><span style="color: #4c4f69">{</span><span class="nx">num</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;mooh&#34;</span><span style="color: #4c4f69">,</span> <span style="color: #8839ef; font-style: italic">nil</span><span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">num</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;moos one last time out of happyness&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #8839ef">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8839ef">default</span><span style="color: #4c4f69">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">num</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Sleep</span><span style="color: #4c4f69">(</span><span class="nx">time</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Duration</span><span style="color: #4c4f69">(</span><span class="nx">rand</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Int31n</span><span style="color: #4c4f69">(</span><span class="mi">1000</span><span style="color: #4c4f69">))</span> <span style="color: #04a5e5">*</span> <span class="nx">time</span><span style="color: #4c4f69">.</span><span class="nx">Millisecond</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #acb0be; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #acb0be; font-style: italic"></span><span style="color: #8839ef">func</span> <span style="color: #04a5e5">farmer</span><span style="color: #4c4f69">(</span><span class="nx">numcows</span> <span style="color: #df8e1d">int</span><span style="color: #4c4f69">,</span> <span class="nx">mootube</span> <span style="color: #8839ef">chan</span> <span class="nx">Moo</span><span style="color: #4c4f69">,</span> <span class="nx">farmertube</span> <span style="color: #8839ef">chan</span> <span style="color: #df8e1d">string</span><span style="color: #4c4f69">)</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8839ef">for</span> <span class="nx">hungryCows</span> <span style="color: #04a5e5">:=</span> <span class="nx">numcows</span><span style="color: #4c4f69">;</span> <span class="nx">hungryCows</span> <span style="color: #4c4f69">&gt;</span> <span class="mi">0</span><span style="color: #4c4f69">;</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #04a5e5">:=</span> <span style="color: #04a5e5">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8839ef">if</span> <span class="nx">moo</span><span style="color: #4c4f69">.</span><span class="nx">Sound</span> <span style="color: #04a5e5">==</span> <span style="color: #40a02b">&#34;mooh&#34;</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">moo</span><span style="color: #4c4f69">.</span><span class="nx">Cow</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #04a5e5">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #4c4f69">}</span> <span style="color: #8839ef">else</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Farmer heard a&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">moo</span><span style="color: #4c4f69">.</span><span class="nx">Sound</span><span style="color: #4c4f69">,</span> <span style="color: #40a02b">&#34;from cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">moo</span><span style="color: #4c4f69">.</span><span class="nx">Cow</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Sleep</span><span style="color: #4c4f69">(</span><span class="mf">2e9</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #4c4f69">,</span> <span class="nx">moo</span><span style="color: #4c4f69">.</span><span class="nx">Cow</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #4c4f69">.</span><span class="nx">Tube</span> <span style="color: #04a5e5">&lt;-</span> <span style="color: #8839ef; font-style: italic">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #04a5e5">&lt;-</span> <span style="color: #40a02b">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #acb0be; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #acb0be; font-style: italic"></span><span style="color: #8839ef">func</span> <span style="color: #04a5e5">runFarm</span><span style="color: #4c4f69">(</span><span class="nx">numcows</span> <span style="color: #df8e1d">int</span><span style="color: #4c4f69">)</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #04a5e5">:=</span> <span style="font-style: italic">make</span><span style="color: #4c4f69">(</span><span style="color: #8839ef">chan</span> <span style="color: #df8e1d">string</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #04a5e5">:=</span> <span style="font-style: italic">make</span><span style="color: #4c4f69">(</span><span style="color: #8839ef">chan</span> <span class="nx">Moo</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8839ef">for</span> <span class="nx">cownum</span> <span style="color: #04a5e5">:=</span> <span class="mi">0</span><span style="color: #4c4f69">;</span> <span class="nx">cownum</span> <span style="color: #4c4f69">&lt;</span> <span class="nx">numcows</span><span style="color: #4c4f69">;</span> <span class="nx">cownum</span><span style="color: #04a5e5">++</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8839ef">go</span> <span style="color: #04a5e5">cow</span><span style="color: #4c4f69">(</span><span class="nx">cownum</span><span style="color: #4c4f69">,</span> <span class="nx">mootube</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8839ef">go</span> <span style="color: #04a5e5">farmer</span><span style="color: #4c4f69">(</span><span class="nx">numcows</span><span style="color: #4c4f69">,</span> <span class="nx">mootube</span><span style="color: #4c4f69">,</span> <span class="nx">farmertube</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #04a5e5">:=</span> <span style="color: #04a5e5">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8839ef">if</span> <span class="nx">farmerSaid</span> <span style="color: #04a5e5">==</span> <span style="color: #40a02b">&#34;yey!&#34;</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;All cows are happy.&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4c4f69">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8839ef">func</span> <span style="color: #04a5e5">main</span><span style="color: #4c4f69">()</span> <span style="color: #4c4f69">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #04a5e5">runFarm</span><span style="color: #4c4f69">(</span><span class="mi">4</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #4c4f69">.</span><span style="color: #04a5e5">Println</span><span style="color: #4c4f69">(</span><span style="color: #40a02b">&#34;done&#34;</span><span style="color: #4c4f69">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4c4f69">}</span></span></span></code></pre></code><a name='catppuccin-macchiato'><h2><a id='stylelink' href='catppuccin-macchiato.html' alt='View only catppuccin-macchiato'>catppuccin-macchiato</a></h2></a><code><pre style="color: #f5a97f; background-color: #24273a;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6a0f6">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6a0f6">import</span> <span style="color: #cad3f5">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6da95">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6da95">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6da95">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6a0f6">type</span> <span class="nx">Moo</span> <span style="color: #c6a0f6">struct</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #eed49f">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #eed49f">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #c6a0f6">chan</span> <span style="color: #eed49f">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5b6078; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #5b6078; font-style: italic"></span><span style="color: #c6a0f6">func</span> <span style="color: #91d7e3">cow</span><span style="color: #cad3f5">(</span><span class="nx">num</span> <span style="color: #eed49f">int</span><span style="color: #cad3f5">,</span> <span class="nx">mootube</span> <span style="color: #c6a0f6">chan</span> <span class="nx">Moo</span><span style="color: #cad3f5">)</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #91d7e3">:=</span> <span style="font-style: italic">make</span><span style="color: #cad3f5">(</span><span style="color: #c6a0f6">chan</span> <span style="color: #eed49f">bool</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6a0f6">for</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6a0f6">select</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6a0f6">case</span> <span class="nx">mootube</span> <span style="color: #91d7e3">&lt;-</span> <span class="nx">Moo</span><span style="color: #cad3f5">{</span><span class="nx">num</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;moo&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">tube</span><span style="color: #cad3f5">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">num</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;mooed through the mootube&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #91d7e3">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">num</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;is being fed and stops mooing&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #91d7e3">&lt;-</span> <span class="nx">Moo</span><span style="color: #cad3f5">{</span><span class="nx">num</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;mooh&#34;</span><span style="color: #cad3f5">,</span> <span style="color: #c6a0f6; font-style: italic">nil</span><span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">num</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;moos one last time out of happyness&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c6a0f6">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6a0f6">default</span><span style="color: #cad3f5">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">num</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Sleep</span><span style="color: #cad3f5">(</span><span class="nx">time</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Duration</span><span style="color: #cad3f5">(</span><span class="nx">rand</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Int31n</span><span style="color: #cad3f5">(</span><span class="mi">1000</span><span style="color: #cad3f5">))</span> <span style="color: #91d7e3">*</span> <span class="nx">time</span><span style="color: #cad3f5">.</span><span class="nx">Millisecond</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5b6078; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #5b6078; font-style: italic"></span><span style="color: #c6a0f6">func</span> <span style="color: #91d7e3">farmer</span><span style="color: #cad3f5">(</span><span class="nx">numcows</span> <span style="color: #eed49f">int</span><span style="color: #cad3f5">,</span> <span class="nx">mootube</span> <span style="color: #c6a0f6">chan</span> <span class="nx">Moo</span><span style="color: #cad3f5">,</span> <span class="nx">farmertube</span> <span style="color: #c6a0f6">chan</span> <span style="color: #eed49f">string</span><span style="color: #cad3f5">)</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6a0f6">for</span> <span class="nx">hungryCows</span> <span style="color: #91d7e3">:=</span> <span class="nx">numcows</span><span style="color: #cad3f5">;</span> <span class="nx">hungryCows</span> <span style="color: #cad3f5">&gt;</span> <span class="mi">0</span><span style="color: #cad3f5">;</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #91d7e3">:=</span> <span style="color: #91d7e3">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6a0f6">if</span> <span class="nx">moo</span><span style="color: #cad3f5">.</span><span class="nx">Sound</span> <span style="color: #91d7e3">==</span> <span style="color: #a6da95">&#34;mooh&#34;</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">moo</span><span style="color: #cad3f5">.</span><span class="nx">Cow</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #91d7e3">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cad3f5">}</span> <span style="color: #c6a0f6">else</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Farmer heard a&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">moo</span><span style="color: #cad3f5">.</span><span class="nx">Sound</span><span style="color: #cad3f5">,</span> <span style="color: #a6da95">&#34;from cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">moo</span><span style="color: #cad3f5">.</span><span class="nx">Cow</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Sleep</span><span style="color: #cad3f5">(</span><span class="mf">2e9</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #cad3f5">,</span> <span class="nx">moo</span><span style="color: #cad3f5">.</span><span class="nx">Cow</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #cad3f5">.</span><span class="nx">Tube</span> <span style="color: #91d7e3">&lt;-</span> <span style="color: #c6a0f6; font-style: italic">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #91d7e3">&lt;-</span> <span style="color: #a6da95">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5b6078; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #5b6078; font-style: italic"></span><span style="color: #c6a0f6">func</span> <span style="color: #91d7e3">runFarm</span><span style="color: #cad3f5">(</span><span class="nx">numcows</span> <span style="color: #eed49f">int</span><span style="color: #cad3f5">)</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #91d7e3">:=</span> <span style="font-style: italic">make</span><span style="color: #cad3f5">(</span><span style="color: #c6a0f6">chan</span> <span style="color: #eed49f">string</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #91d7e3">:=</span> <span style="font-style: italic">make</span><span style="color: #cad3f5">(</span><span style="color: #c6a0f6">chan</span> <span class="nx">Moo</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6a0f6">for</span> <span class="nx">cownum</span> <span style="color: #91d7e3">:=</span> <span class="mi">0</span><span style="color: #cad3f5">;</span> <span class="nx">cownum</span> <span style="color: #cad3f5">&lt;</span> <span class="nx">numcows</span><span style="color: #cad3f5">;</span> <span class="nx">cownum</span><span style="color: #91d7e3">++</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c6a0f6">go</span> <span style="color: #91d7e3">cow</span><span style="color: #cad3f5">(</span><span class="nx">cownum</span><span style="color: #cad3f5">,</span> <span class="nx">mootube</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6a0f6">go</span> <span style="color: #91d7e3">farmer</span><span style="color: #cad3f5">(</span><span class="nx">numcows</span><span style="color: #cad3f5">,</span> <span class="nx">mootube</span><span style="color: #cad3f5">,</span> <span class="nx">farmertube</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #91d7e3">:=</span> <span style="color: #91d7e3">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c6a0f6">if</span> <span class="nx">farmerSaid</span> <span style="color: #91d7e3">==</span> <span style="color: #a6da95">&#34;yey!&#34;</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;All cows are happy.&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cad3f5">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c6a0f6">func</span> <span style="color: #91d7e3">main</span><span style="color: #cad3f5">()</span> <span style="color: #cad3f5">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #91d7e3">runFarm</span><span style="color: #cad3f5">(</span><span class="mi">4</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #cad3f5">.</span><span style="color: #91d7e3">Println</span><span style="color: #cad3f5">(</span><span style="color: #a6da95">&#34;done&#34;</span><span style="color: #cad3f5">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cad3f5">}</span></span></span></code></pre></code><a name='catppuccin-mocha'><h2><a id='stylelink' href='catppuccin-mocha.html' alt='View only catppuccin-mocha'>catppuccin-mocha</a></h2></a><code><pre style="color: #fab387; background-color: #1e1e2e;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cba6f7">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cba6f7">import</span> <span style="color: #cdd6f4">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e3a1">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e3a1">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e3a1">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cba6f7">type</span> <span class="nx">Moo</span> <span style="color: #cba6f7">struct</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #f9e2af">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #f9e2af">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #cba6f7">chan</span> <span style="color: #f9e2af">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #585b70; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #585b70; font-style: italic"></span><span style="color: #cba6f7">func</span> <span style="color: #89dceb">cow</span><span style="color: #cdd6f4">(</span><span class="nx">num</span> <span style="color: #f9e2af">int</span><span style="color: #cdd6f4">,</span> <span class="nx">mootube</span> <span style="color: #cba6f7">chan</span> <span class="nx">Moo</span><span style="color: #cdd6f4">)</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #89dceb">:=</span> <span style="font-style: italic">make</span><span style="color: #cdd6f4">(</span><span style="color: #cba6f7">chan</span> <span style="color: #f9e2af">bool</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cba6f7">for</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cba6f7">select</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cba6f7">case</span> <span class="nx">mootube</span> <span style="color: #89dceb">&lt;-</span> <span class="nx">Moo</span><span style="color: #cdd6f4">{</span><span class="nx">num</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;moo&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">tube</span><span style="color: #cdd6f4">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">num</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;mooed through the mootube&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #89dceb">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">num</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;is being fed and stops mooing&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #89dceb">&lt;-</span> <span class="nx">Moo</span><span style="color: #cdd6f4">{</span><span class="nx">num</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;mooh&#34;</span><span style="color: #cdd6f4">,</span> <span style="color: #cba6f7; font-style: italic">nil</span><span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">num</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;moos one last time out of happyness&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #cba6f7">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cba6f7">default</span><span style="color: #cdd6f4">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">num</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Sleep</span><span style="color: #cdd6f4">(</span><span class="nx">time</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Duration</span><span style="color: #cdd6f4">(</span><span class="nx">rand</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Int31n</span><span style="color: #cdd6f4">(</span><span class="mi">1000</span><span style="color: #cdd6f4">))</span> <span style="color: #89dceb">*</span> <span class="nx">time</span><span style="color: #cdd6f4">.</span><span class="nx">Millisecond</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #585b70; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #585b70; font-style: italic"></span><span style="color: #cba6f7">func</span> <span style="color: #89dceb">farmer</span><span style="color: #cdd6f4">(</span><span class="nx">numcows</span> <span style="color: #f9e2af">int</span><span style="color: #cdd6f4">,</span> <span class="nx">mootube</span> <span style="color: #cba6f7">chan</span> <span class="nx">Moo</span><span style="color: #cdd6f4">,</span> <span class="nx">farmertube</span> <span style="color: #cba6f7">chan</span> <span style="color: #f9e2af">string</span><span style="color: #cdd6f4">)</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cba6f7">for</span> <span class="nx">hungryCows</span> <span style="color: #89dceb">:=</span> <span class="nx">numcows</span><span style="color: #cdd6f4">;</span> <span class="nx">hungryCows</span> <span style="color: #cdd6f4">&gt;</span> <span class="mi">0</span><span style="color: #cdd6f4">;</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #89dceb">:=</span> <span style="color: #89dceb">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cba6f7">if</span> <span class="nx">moo</span><span style="color: #cdd6f4">.</span><span class="nx">Sound</span> <span style="color: #89dceb">==</span> <span style="color: #a6e3a1">&#34;mooh&#34;</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">moo</span><span style="color: #cdd6f4">.</span><span class="nx">Cow</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #89dceb">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdd6f4">}</span> <span style="color: #cba6f7">else</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Farmer heard a&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">moo</span><span style="color: #cdd6f4">.</span><span class="nx">Sound</span><span style="color: #cdd6f4">,</span> <span style="color: #a6e3a1">&#34;from cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">moo</span><span style="color: #cdd6f4">.</span><span class="nx">Cow</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Sleep</span><span style="color: #cdd6f4">(</span><span class="mf">2e9</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #cdd6f4">,</span> <span class="nx">moo</span><span style="color: #cdd6f4">.</span><span class="nx">Cow</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #cdd6f4">.</span><span class="nx">Tube</span> <span style="color: #89dceb">&lt;-</span> <span style="color: #cba6f7; font-style: italic">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #89dceb">&lt;-</span> <span style="color: #a6e3a1">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #585b70; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #585b70; font-style: italic"></span><span style="color: #cba6f7">func</span> <span style="color: #89dceb">runFarm</span><span style="color: #cdd6f4">(</span><span class="nx">numcows</span> <span style="color: #f9e2af">int</span><span style="color: #cdd6f4">)</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #89dceb">:=</span> <span style="font-style: italic">make</span><span style="color: #cdd6f4">(</span><span style="color: #cba6f7">chan</span> <span style="color: #f9e2af">string</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #89dceb">:=</span> <span style="font-style: italic">make</span><span style="color: #cdd6f4">(</span><span style="color: #cba6f7">chan</span> <span class="nx">Moo</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cba6f7">for</span> <span class="nx">cownum</span> <span style="color: #89dceb">:=</span> <span class="mi">0</span><span style="color: #cdd6f4">;</span> <span class="nx">cownum</span> <span style="color: #cdd6f4">&lt;</span> <span class="nx">numcows</span><span style="color: #cdd6f4">;</span> <span class="nx">cownum</span><span style="color: #89dceb">++</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cba6f7">go</span> <span style="color: #89dceb">cow</span><span style="color: #cdd6f4">(</span><span class="nx">cownum</span><span style="color: #cdd6f4">,</span> <span class="nx">mootube</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cba6f7">go</span> <span style="color: #89dceb">farmer</span><span style="color: #cdd6f4">(</span><span class="nx">numcows</span><span style="color: #cdd6f4">,</span> <span class="nx">mootube</span><span style="color: #cdd6f4">,</span> <span class="nx">farmertube</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #89dceb">:=</span> <span style="color: #89dceb">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cba6f7">if</span> <span class="nx">farmerSaid</span> <span style="color: #89dceb">==</span> <span style="color: #a6e3a1">&#34;yey!&#34;</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;All cows are happy.&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cdd6f4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cba6f7">func</span> <span style="color: #89dceb">main</span><span style="color: #cdd6f4">()</span> <span style="color: #cdd6f4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #89dceb">runFarm</span><span style="color: #cdd6f4">(</span><span class="mi">4</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #cdd6f4">.</span><span style="color: #89dceb">Println</span><span style="color: #cdd6f4">(</span><span style="color: #a6e3a1">&#34;done&#34;</span><span style="color: #cdd6f4">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cdd6f4">}</span></span></span></code></pre></code><a name='colorful'><h2><a id='stylelink' href='colorful.html' alt='View only colorful'>colorful</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="background-color: #fff0f0">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="background-color: #fff0f0">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="background-color: #fff0f0">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #008800; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #333399; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #333399; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #333399; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #333333">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #333333">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #008800; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #008800; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">1000</span><span class="p">))</span> <span style="color: #333333">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #333399; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #333333">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #333333">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #008800; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="background-color: #fff0f0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #6600ee; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #333333">&lt;-</span> <span style="color: #008800; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #333333">&lt;-</span> <span style="background-color: #fff0f0">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #333399; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #333333">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #333399; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #333333">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #333333">:=</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #333333">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #333333">==</span> <span style="background-color: #fff0f0">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #fff0f0">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='doom-one'><h2><a id='stylelink' href='doom-one.html' alt='View only doom-one'>doom-one</a></h2></a><code><pre style="color: #b0c4de; background-color: #282c34;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">package</span> <span style="color: #c1abea">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">type</span> <span style="color: #c1abea">Moo</span> <span style="color: #c678dd">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">Cow</span>   <span style="color: #ef8383">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">Sound</span> <span style="color: #ef8383">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">Tube</span>  <span style="color: #c678dd">chan</span> <span style="color: #ef8383">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic"></span><span style="color: #c678dd">func</span> <span style="color: #00b1f7">cow</span><span class="p">(</span><span style="color: #c1abea">num</span> <span style="color: #ef8383">int</span><span class="p">,</span> <span style="color: #c1abea">mootube</span> <span style="color: #c678dd">chan</span> <span style="color: #c1abea">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">tube</span> <span style="color: #c7bf54">:=</span> <span style="color: #ef8383">make</span><span class="p">(</span><span style="color: #c678dd">chan</span> <span style="color: #ef8383">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">case</span> <span style="color: #c1abea">mootube</span> <span style="color: #c7bf54">&lt;-</span> <span style="color: #c1abea">Moo</span><span class="p">{</span><span style="color: #c1abea">num</span><span class="p">,</span> <span style="color: #98c379">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #c1abea">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">num</span><span class="p">,</span> <span style="color: #98c379">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c7bf54">&lt;-</span><span style="color: #c1abea">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">num</span><span class="p">,</span> <span style="color: #98c379">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">mootube</span> <span style="color: #c7bf54">&lt;-</span> <span style="color: #c1abea">Moo</span><span class="p">{</span><span style="color: #c1abea">num</span><span class="p">,</span> <span style="color: #98c379">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #b756ff; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">num</span><span class="p">,</span> <span style="color: #98c379">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c678dd">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">num</span><span class="p">,</span> <span style="color: #98c379">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">time</span><span class="p">.</span><span style="color: #00b1f7">Sleep</span><span class="p">(</span><span style="color: #c1abea">time</span><span class="p">.</span><span style="color: #00b1f7">Duration</span><span class="p">(</span><span style="color: #c1abea">rand</span><span class="p">.</span><span style="color: #00b1f7">Int31n</span><span class="p">(</span><span style="color: #d19a66">1000</span><span class="p">))</span> <span style="color: #c7bf54">*</span> <span style="color: #c1abea">time</span><span class="p">.</span><span style="color: #c1abea">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic"></span><span style="color: #c678dd">func</span> <span style="color: #00b1f7">farmer</span><span class="p">(</span><span style="color: #c1abea">numcows</span> <span style="color: #ef8383">int</span><span class="p">,</span> <span style="color: #c1abea">mootube</span> <span style="color: #c678dd">chan</span> <span style="color: #c1abea">Moo</span><span class="p">,</span> <span style="color: #c1abea">farmertube</span> <span style="color: #c678dd">chan</span> <span style="color: #ef8383">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">for</span> <span style="color: #c1abea">hungryCows</span> <span style="color: #c7bf54">:=</span> <span style="color: #c1abea">numcows</span><span class="p">;</span> <span style="color: #c1abea">hungryCows</span> <span class="p">&gt;</span> <span style="color: #d19a66">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c1abea">moo</span> <span style="color: #c7bf54">:=</span> <span style="color: #c7bf54">&lt;-</span><span style="color: #c1abea">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">if</span> <span style="color: #c1abea">moo</span><span class="p">.</span><span style="color: #c1abea">Sound</span> <span style="color: #c7bf54">==</span> <span style="color: #98c379">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">moo</span><span class="p">.</span><span style="color: #c1abea">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">hungryCows</span><span style="color: #c7bf54">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #c678dd">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #c1abea">moo</span><span class="p">.</span><span style="color: #c1abea">Sound</span><span class="p">,</span> <span style="color: #98c379">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">moo</span><span class="p">.</span><span style="color: #c1abea">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">time</span><span class="p">.</span><span style="color: #00b1f7">Sleep</span><span class="p">(</span><span style="color: #d19a66">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #c1abea">moo</span><span class="p">.</span><span style="color: #c1abea">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c1abea">moo</span><span class="p">.</span><span style="color: #c1abea">Tube</span> <span style="color: #c7bf54">&lt;-</span> <span style="color: #b756ff; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">farmertube</span> <span style="color: #c7bf54">&lt;-</span> <span style="color: #98c379">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic"></span><span style="color: #c678dd">func</span> <span style="color: #00b1f7">runFarm</span><span class="p">(</span><span style="color: #c1abea">numcows</span> <span style="color: #ef8383">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">farmertube</span> <span style="color: #c7bf54">:=</span> <span style="color: #ef8383">make</span><span class="p">(</span><span style="color: #c678dd">chan</span> <span style="color: #ef8383">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">mootube</span> <span style="color: #c7bf54">:=</span> <span style="color: #ef8383">make</span><span class="p">(</span><span style="color: #c678dd">chan</span> <span style="color: #c1abea">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">for</span> <span style="color: #c1abea">cownum</span> <span style="color: #c7bf54">:=</span> <span style="color: #d19a66">0</span><span class="p">;</span> <span style="color: #c1abea">cownum</span> <span class="p">&lt;</span> <span style="color: #c1abea">numcows</span><span class="p">;</span> <span style="color: #c1abea">cownum</span><span style="color: #c7bf54">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">go</span> <span style="color: #00b1f7">cow</span><span class="p">(</span><span style="color: #c1abea">cownum</span><span class="p">,</span> <span style="color: #c1abea">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">go</span> <span style="color: #00b1f7">farmer</span><span class="p">(</span><span style="color: #c1abea">numcows</span><span class="p">,</span> <span style="color: #c1abea">mootube</span><span class="p">,</span> <span style="color: #c1abea">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">farmerSaid</span> <span style="color: #c7bf54">:=</span> <span style="color: #c7bf54">&lt;-</span><span style="color: #c1abea">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">if</span> <span style="color: #c1abea">farmerSaid</span> <span style="color: #c7bf54">==</span> <span style="color: #98c379">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">func</span> <span style="color: #00b1f7">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00b1f7">runFarm</span><span class="p">(</span><span style="color: #d19a66">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c1abea">fmt</span><span class="p">.</span><span style="color: #00b1f7">Println</span><span class="p">(</span><span style="color: #98c379">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='doom-one2'><h2><a id='stylelink' href='doom-one2.html' alt='View only doom-one2'>doom-one2</a></h2></a><code><pre style="color: #b0c4de; background-color: #282c34;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #76a9f9">package</span> <span style="color: #aa89ea">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #76a9f9">import</span> <span style="color: #abb2bf">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #76a9f9">type</span> <span style="color: #aa89ea">Moo</span> <span style="color: #76a9f9">struct</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">Cow</span>   <span style="color: #e5c07b">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">Sound</span> <span style="color: #e5c07b">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">Tube</span>  <span style="color: #76a9f9">chan</span> <span style="color: #e5c07b">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic"></span><span style="color: #76a9f9">func</span> <span style="color: #00b1f7">cow</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">num</span> <span style="color: #e5c07b">int</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">mootube</span> <span style="color: #76a9f9">chan</span> <span style="color: #aa89ea">Moo</span><span style="color: #abb2bf">)</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">tube</span> <span style="color: #54b1c7">:=</span> <span style="color: #e5c07b">make</span><span style="color: #abb2bf">(</span><span style="color: #76a9f9">chan</span> <span style="color: #e5c07b">bool</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #76a9f9">for</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #76a9f9">select</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #76a9f9">case</span> <span style="color: #aa89ea">mootube</span> <span style="color: #54b1c7">&lt;-</span> <span style="color: #aa89ea">Moo</span><span style="color: #abb2bf">{</span><span style="color: #aa89ea">num</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;moo&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">tube</span><span style="color: #abb2bf">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">num</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;mooed through the mootube&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #54b1c7">&lt;-</span><span style="color: #aa89ea">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">num</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;is being fed and stops mooing&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">mootube</span> <span style="color: #54b1c7">&lt;-</span> <span style="color: #aa89ea">Moo</span><span style="color: #abb2bf">{</span><span style="color: #aa89ea">num</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;mooh&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #e5c07b">nil</span><span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">num</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;moos one last time out of happyness&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #76a9f9">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #76a9f9">default</span><span style="color: #abb2bf">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">num</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">time</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Sleep</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">time</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Duration</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">rand</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Int31n</span><span style="color: #abb2bf">(</span><span style="color: #d19a66">1000</span><span style="color: #abb2bf">))</span> <span style="color: #54b1c7">*</span> <span style="color: #aa89ea">time</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Millisecond</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic"></span><span style="color: #76a9f9">func</span> <span style="color: #00b1f7">farmer</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">numcows</span> <span style="color: #e5c07b">int</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">mootube</span> <span style="color: #76a9f9">chan</span> <span style="color: #aa89ea">Moo</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">farmertube</span> <span style="color: #76a9f9">chan</span> <span style="color: #e5c07b">string</span><span style="color: #abb2bf">)</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #76a9f9">for</span> <span style="color: #aa89ea">hungryCows</span> <span style="color: #54b1c7">:=</span> <span style="color: #aa89ea">numcows</span><span style="color: #abb2bf">;</span> <span style="color: #aa89ea">hungryCows</span> <span style="color: #abb2bf">&gt;</span> <span style="color: #d19a66">0</span><span style="color: #abb2bf">;</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa89ea">moo</span> <span style="color: #54b1c7">:=</span> <span style="color: #54b1c7">&lt;-</span><span style="color: #aa89ea">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #76a9f9">if</span> <span style="color: #aa89ea">moo</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Sound</span> <span style="color: #54b1c7">==</span> <span style="color: #98c379">&#34;mooh&#34;</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">moo</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Cow</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">hungryCows</span><span style="color: #54b1c7">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #abb2bf">}</span> <span style="color: #76a9f9">else</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Farmer heard a&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">moo</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Sound</span><span style="color: #abb2bf">,</span> <span style="color: #98c379">&#34;from cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">moo</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Cow</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">time</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Sleep</span><span style="color: #abb2bf">(</span><span style="color: #d19a66">2e9</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">moo</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Cow</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa89ea">moo</span><span style="color: #abb2bf">.</span><span style="color: #aa89ea">Tube</span> <span style="color: #54b1c7">&lt;-</span> <span style="color: #e5c07b">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">farmertube</span> <span style="color: #54b1c7">&lt;-</span> <span style="color: #98c379">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8a93a5; font-style: italic"></span><span style="color: #76a9f9">func</span> <span style="color: #00b1f7">runFarm</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">numcows</span> <span style="color: #e5c07b">int</span><span style="color: #abb2bf">)</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">farmertube</span> <span style="color: #54b1c7">:=</span> <span style="color: #e5c07b">make</span><span style="color: #abb2bf">(</span><span style="color: #76a9f9">chan</span> <span style="color: #e5c07b">string</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">mootube</span> <span style="color: #54b1c7">:=</span> <span style="color: #e5c07b">make</span><span style="color: #abb2bf">(</span><span style="color: #76a9f9">chan</span> <span style="color: #aa89ea">Moo</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #76a9f9">for</span> <span style="color: #aa89ea">cownum</span> <span style="color: #54b1c7">:=</span> <span style="color: #d19a66">0</span><span style="color: #abb2bf">;</span> <span style="color: #aa89ea">cownum</span> <span style="color: #abb2bf">&lt;</span> <span style="color: #aa89ea">numcows</span><span style="color: #abb2bf">;</span> <span style="color: #aa89ea">cownum</span><span style="color: #54b1c7">++</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #76a9f9">go</span> <span style="color: #00b1f7">cow</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">cownum</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">mootube</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #76a9f9">go</span> <span style="color: #00b1f7">farmer</span><span style="color: #abb2bf">(</span><span style="color: #aa89ea">numcows</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">mootube</span><span style="color: #abb2bf">,</span> <span style="color: #aa89ea">farmertube</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">farmerSaid</span> <span style="color: #54b1c7">:=</span> <span style="color: #54b1c7">&lt;-</span><span style="color: #aa89ea">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #76a9f9">if</span> <span style="color: #aa89ea">farmerSaid</span> <span style="color: #54b1c7">==</span> <span style="color: #98c379">&#34;yey!&#34;</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;All cows are happy.&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #abb2bf">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #76a9f9">func</span> <span style="color: #00b1f7">main</span><span style="color: #abb2bf">()</span> <span style="color: #abb2bf">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00b1f7">runFarm</span><span style="color: #abb2bf">(</span><span style="color: #d19a66">4</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa89ea">fmt</span><span style="color: #abb2bf">.</span><span style="color: #00b1f7">Println</span><span style="color: #abb2bf">(</span><span style="color: #98c379">&#34;done&#34;</span><span style="color: #abb2bf">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #abb2bf">}</span></span></span></code></pre></code><a name='dracula'><h2><a id='stylelink' href='dracula.html' alt='View only dracula'>dracula</a></h2></a><code><pre style="color: #f8f8f2; background-color: #282a36;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff79c6">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff79c6">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f1fa8c">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f1fa8c">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f1fa8c">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8be9fd; font-style: italic">type</span> <span class="nx">Moo</span> <span style="color: #8be9fd; font-style: italic">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #8be9fd">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #8be9fd">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6272a4">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6272a4"></span><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #8be9fd">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8be9fd; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #ff79c6">:=</span> <span style="color: #8be9fd; font-style: italic">make</span><span class="p">(</span><span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff79c6">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff79c6">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff79c6">case</span> <span class="nx">mootube</span> <span style="color: #ff79c6">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff79c6">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #ff79c6">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ff79c6">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff79c6">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff79c6">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #50fa7b">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #50fa7b">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #50fa7b">Int31n</span><span class="p">(</span><span style="color: #bd93f9">1000</span><span class="p">))</span> <span style="color: #ff79c6">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6272a4">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6272a4"></span><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #8be9fd">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8be9fd; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff79c6">for</span> <span class="nx">hungryCows</span> <span style="color: #ff79c6">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #bd93f9">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #ff79c6">:=</span> <span style="color: #ff79c6">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff79c6">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #ff79c6">==</span> <span style="color: #f1fa8c">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #ff79c6">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ff79c6">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #f1fa8c">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #50fa7b">Sleep</span><span class="p">(</span><span style="color: #bd93f9">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #ff79c6">&lt;-</span> <span style="color: #ff79c6">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ff79c6">&lt;-</span> <span style="color: #f1fa8c">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6272a4">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6272a4"></span><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #8be9fd">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ff79c6">:=</span> <span style="color: #8be9fd; font-style: italic">make</span><span class="p">(</span><span style="color: #8be9fd; font-style: italic">chan</span> <span style="color: #8be9fd">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #ff79c6">:=</span> <span style="color: #8be9fd; font-style: italic">make</span><span class="p">(</span><span style="color: #8be9fd; font-style: italic">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff79c6">for</span> <span class="nx">cownum</span> <span style="color: #ff79c6">:=</span> <span style="color: #bd93f9">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #ff79c6">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff79c6">go</span> <span style="color: #50fa7b">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff79c6">go</span> <span style="color: #50fa7b">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #ff79c6">:=</span> <span style="color: #ff79c6">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff79c6">if</span> <span class="nx">farmerSaid</span> <span style="color: #ff79c6">==</span> <span style="color: #f1fa8c">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8be9fd; font-style: italic">func</span> <span style="color: #50fa7b">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #50fa7b">runFarm</span><span class="p">(</span><span style="color: #bd93f9">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #50fa7b">Println</span><span class="p">(</span><span style="color: #f1fa8c">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='emacs'><h2><a id='stylelink' href='emacs.html' alt='View only emacs'>emacs</a></h2></a><code><pre style="background-color: #f8f8f8;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aa22ff; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aa22ff; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #bb4444">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #bb4444">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #bb4444">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aa22ff; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #aa22ff; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #00bb00; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #00bb00; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic"></span><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00bb00; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #aa22ff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #aa22ff">make</span><span class="p">(</span><span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa22ff; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa22ff; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa22ff; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #aa22ff; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #aa22ff; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa22ff; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb4444">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #00a000">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #00a000">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #00a000">Int31n</span><span class="p">(</span><span style="color: #666666">1000</span><span class="p">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic"></span><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00bb00; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #aa22ff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa22ff; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa22ff; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #bb4444">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #aa22ff; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #bb4444">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #00a000">Sleep</span><span class="p">(</span><span style="color: #666666">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #aa22ff; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #bb4444">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-style: italic"></span><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00bb00; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #aa22ff">make</span><span class="p">(</span><span style="color: #aa22ff; font-weight: bold">chan</span> <span style="color: #00bb00; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #aa22ff">make</span><span class="p">(</span><span style="color: #aa22ff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa22ff; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #aa22ff; font-weight: bold">go</span> <span style="color: #00a000">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa22ff; font-weight: bold">go</span> <span style="color: #00a000">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #aa22ff; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #bb4444">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #aa22ff; font-weight: bold">func</span> <span style="color: #00a000">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00a000">runFarm</span><span class="p">(</span><span style="color: #666666">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #00a000">Println</span><span class="p">(</span><span style="color: #bb4444">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='friendly'><h2><a id='stylelink' href='friendly.html' alt='View only friendly'>friendly</a></h2></a><code><pre style="background-color: #f0f0f0;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007020; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007020; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4070a0">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4070a0">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4070a0">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007020; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #007020; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #902000">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #902000">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #60a0b0; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #60a0b0; font-style: italic"></span><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #902000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #007020; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #007020; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #007020; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #007020; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #007020; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #007020; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #007020; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #4070a0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #06287e">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #06287e">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #06287e">Int31n</span><span class="p">(</span><span style="color: #40a070">1000</span><span class="p">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #60a0b0; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #60a0b0; font-style: italic"></span><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #902000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #007020; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #007020; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #40a070">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #007020; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #4070a0">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #007020; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #4070a0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #06287e">Sleep</span><span class="p">(</span><span style="color: #40a070">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #007020; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #4070a0">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #60a0b0; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #60a0b0; font-style: italic"></span><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #902000">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #007020; font-weight: bold">chan</span> <span style="color: #902000">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #007020">make</span><span class="p">(</span><span style="color: #007020; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #007020; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #40a070">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #007020; font-weight: bold">go</span> <span style="color: #06287e">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #007020; font-weight: bold">go</span> <span style="color: #06287e">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #007020; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #4070a0">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007020; font-weight: bold">func</span> <span style="color: #06287e">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06287e">runFarm</span><span class="p">(</span><span style="color: #40a070">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #06287e">Println</span><span class="p">(</span><span style="color: #4070a0">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='fruity'><h2><a id='stylelink' href='fruity.html' alt='View only fruity'>fruity</a></h2></a><code><pre style="color: #ffffff; background-color: #111111;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fb660a; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fb660a; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0086d2">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0086d2">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0086d2">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fb660a; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #fb660a; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #cdcaa9; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #cdcaa9; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; background-color: #0f140f; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; background-color: #0f140f; font-style: italic"></span><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #cdcaa9; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fb660a; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fb660a; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fb660a; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fb660a; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #fb660a; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #fb660a; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fb660a; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #0086d2">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #0086f7; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; background-color: #0f140f; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; background-color: #0f140f; font-style: italic"></span><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #cdcaa9; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fb660a; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fb660a; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0086f7; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fb660a; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #0086d2">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #fb660a; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #0086d2">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #0086f7; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #fb660a; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #0086d2">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; background-color: #0f140f; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; background-color: #0f140f; font-style: italic"></span><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #cdcaa9; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #fb660a; font-weight: bold">chan</span> <span style="color: #cdcaa9; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #fb660a; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fb660a; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #0086f7; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fb660a; font-weight: bold">go</span> <span style="color: #ff0086; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fb660a; font-weight: bold">go</span> <span style="color: #ff0086; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fb660a; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #0086d2">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fb660a; font-weight: bold">func</span> <span style="color: #ff0086; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0086; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #0086f7; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff0086; font-weight: bold">Println</span><span class="p">(</span><span style="color: #0086d2">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='github-dark'><h2><a id='stylelink' href='github-dark.html' alt='View only github-dark'>github-dark</a></h2></a><code><pre style="color: #c9d1d9; background-color: #0d1117;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff7b72">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff7b72">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a5d6ff">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a5d6ff">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a5d6ff">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff7b72">type</span> <span class="nx">Moo</span> <span style="color: #ff7b72">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #ff7b72">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #ff7b72">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #ff7b72">chan</span> <span style="color: #ff7b72">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b949e; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8b949e; font-style: italic"></span><span style="color: #ff7b72">func</span> <span style="color: #d2a8ff; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #ff7b72">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff7b72">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff7b72">chan</span> <span style="color: #ff7b72">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff7b72">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff7b72">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff7b72">case</span> <span class="nx">mootube</span> <span style="color: #ff7b72; font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff7b72; font-weight: bold">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #ff7b72; font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #79c0ff">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff7b72">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff7b72">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #a5d6ff">1000</span><span class="p">))</span> <span style="color: #ff7b72; font-weight: bold">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b949e; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8b949e; font-style: italic"></span><span style="color: #ff7b72">func</span> <span style="color: #d2a8ff; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ff7b72">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff7b72">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ff7b72">chan</span> <span style="color: #ff7b72">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff7b72">for</span> <span class="nx">hungryCows</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #a5d6ff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span style="color: #ff7b72; font-weight: bold">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff7b72">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #ff7b72; font-weight: bold">==</span> <span style="color: #a5d6ff">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #ff7b72; font-weight: bold">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ff7b72">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #a5d6ff">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #a5d6ff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #ff7b72; font-weight: bold">&lt;-</span> <span style="color: #79c0ff">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ff7b72; font-weight: bold">&lt;-</span> <span style="color: #a5d6ff">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b949e; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8b949e; font-style: italic"></span><span style="color: #ff7b72">func</span> <span style="color: #d2a8ff; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ff7b72">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff7b72">chan</span> <span style="color: #ff7b72">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff7b72">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff7b72">for</span> <span class="nx">cownum</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span style="color: #a5d6ff">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #ff7b72; font-weight: bold">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff7b72">go</span> <span style="color: #d2a8ff; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff7b72">go</span> <span style="color: #d2a8ff; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #ff7b72; font-weight: bold">:=</span> <span style="color: #ff7b72; font-weight: bold">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff7b72">if</span> <span class="nx">farmerSaid</span> <span style="color: #ff7b72; font-weight: bold">==</span> <span style="color: #a5d6ff">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff7b72">func</span> <span style="color: #d2a8ff; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #d2a8ff; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #a5d6ff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #d2a8ff; font-weight: bold">Println</span><span class="p">(</span><span style="color: #a5d6ff">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='github'><h2><a id='stylelink' href='github.html' alt='View only github'>github</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #dd1144">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #dd1144">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #dd1144">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #000000; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #445588; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #445588; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic"></span><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #0086b3">make</span><span class="p">(</span><span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000; font-weight: bold">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #000000; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd1144">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #009999">1000</span><span class="p">))</span> <span style="color: #000000; font-weight: bold">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic"></span><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #000000; font-weight: bold">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #000000; font-weight: bold">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #000000; font-weight: bold">==</span> <span style="color: #dd1144">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #000000; font-weight: bold">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #000000; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #dd1144">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #009999">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span style="color: #000000; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #000000; font-weight: bold">&lt;-</span> <span style="color: #dd1144">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic"></span><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #0086b3">make</span><span class="p">(</span><span style="color: #000000; font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #0086b3">make</span><span class="p">(</span><span style="color: #000000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #000000; font-weight: bold">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #000000; font-weight: bold">:=</span> <span style="color: #000000; font-weight: bold">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #000000; font-weight: bold">==</span> <span style="color: #dd1144">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #009999">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd1144">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='gruvbox-light'><h2><a id='stylelink' href='gruvbox-light.html' alt='View only gruvbox-light'>gruvbox-light</a></h2></a><code><pre style="color: #3c3836; background-color: #fbf1c7;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #af3a03">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #af3a03">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #79740e">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #79740e">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #79740e">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #af3a03">type</span> <span class="nx">Moo</span> <span style="color: #af3a03">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #b57614">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #b57614">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #af3a03">chan</span> <span style="color: #b57614">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic"></span><span style="color: #af3a03">func</span> <span style="color: #b57614">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #b57614">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #af3a03">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #af3a03">:=</span> <span style="color: #b57614">make</span><span class="p">(</span><span style="color: #af3a03">chan</span> <span style="color: #b57614">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #af3a03">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #af3a03">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #af3a03">case</span> <span class="nx">mootube</span> <span style="color: #af3a03">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #79740e">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79740e">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #af3a03">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79740e">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #af3a03">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #79740e">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #af3a03">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79740e">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #af3a03">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #af3a03">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79740e">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #b57614">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #b57614">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #b57614">Int31n</span><span class="p">(</span><span style="color: #8f3f71">1000</span><span class="p">))</span> <span style="color: #af3a03">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic"></span><span style="color: #af3a03">func</span> <span style="color: #b57614">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #b57614">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #af3a03">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #af3a03">chan</span> <span style="color: #b57614">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #af3a03">for</span> <span class="nx">hungryCows</span> <span style="color: #af3a03">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #8f3f71">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #af3a03">:=</span> <span style="color: #af3a03">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #af3a03">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #af3a03">==</span> <span style="color: #79740e">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #af3a03">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #af3a03">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #79740e">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #b57614">Sleep</span><span class="p">(</span><span style="color: #8f3f71">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #af3a03">&lt;-</span> <span style="color: #af3a03">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #af3a03">&lt;-</span> <span style="color: #79740e">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic"></span><span style="color: #af3a03">func</span> <span style="color: #b57614">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #b57614">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #af3a03">:=</span> <span style="color: #b57614">make</span><span class="p">(</span><span style="color: #af3a03">chan</span> <span style="color: #b57614">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #af3a03">:=</span> <span style="color: #b57614">make</span><span class="p">(</span><span style="color: #af3a03">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #af3a03">for</span> <span class="nx">cownum</span> <span style="color: #af3a03">:=</span> <span style="color: #8f3f71">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #af3a03">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #af3a03">go</span> <span style="color: #b57614">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #af3a03">go</span> <span style="color: #b57614">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #af3a03">:=</span> <span style="color: #af3a03">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #af3a03">if</span> <span class="nx">farmerSaid</span> <span style="color: #af3a03">==</span> <span style="color: #79740e">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #af3a03">func</span> <span style="color: #b57614">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b57614">runFarm</span><span class="p">(</span><span style="color: #8f3f71">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #b57614">Println</span><span class="p">(</span><span style="color: #79740e">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='gruvbox'><h2><a id='stylelink' href='gruvbox.html' alt='View only gruvbox'>gruvbox</a></h2></a><code><pre style="color: #ebdbb2; background-color: #282828;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fe8019">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fe8019">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b8bb26">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b8bb26">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b8bb26">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fe8019">type</span> <span class="nx">Moo</span> <span style="color: #fe8019">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #fabd2f">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #fabd2f">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #fe8019">chan</span> <span style="color: #fabd2f">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic"></span><span style="color: #fe8019">func</span> <span style="color: #fabd2f">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #fabd2f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fe8019">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #fe8019">:=</span> <span style="color: #fabd2f">make</span><span class="p">(</span><span style="color: #fe8019">chan</span> <span style="color: #fabd2f">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fe8019">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fe8019">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fe8019">case</span> <span class="nx">mootube</span> <span style="color: #fe8019">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #b8bb26">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #b8bb26">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #fe8019">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #b8bb26">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #fe8019">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #b8bb26">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #fe8019">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #b8bb26">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #fe8019">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fe8019">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #b8bb26">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #fabd2f">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #fabd2f">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #fabd2f">Int31n</span><span class="p">(</span><span style="color: #d3869b">1000</span><span class="p">))</span> <span style="color: #fe8019">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic"></span><span style="color: #fe8019">func</span> <span style="color: #fabd2f">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #fabd2f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fe8019">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #fe8019">chan</span> <span style="color: #fabd2f">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fe8019">for</span> <span class="nx">hungryCows</span> <span style="color: #fe8019">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #d3869b">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #fe8019">:=</span> <span style="color: #fe8019">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fe8019">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #fe8019">==</span> <span style="color: #b8bb26">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #fe8019">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #fe8019">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #b8bb26">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #fabd2f">Sleep</span><span class="p">(</span><span style="color: #d3869b">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #fe8019">&lt;-</span> <span style="color: #fe8019">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #fe8019">&lt;-</span> <span style="color: #b8bb26">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #928374; font-style: italic"></span><span style="color: #fe8019">func</span> <span style="color: #fabd2f">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #fabd2f">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #fe8019">:=</span> <span style="color: #fabd2f">make</span><span class="p">(</span><span style="color: #fe8019">chan</span> <span style="color: #fabd2f">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #fe8019">:=</span> <span style="color: #fabd2f">make</span><span class="p">(</span><span style="color: #fe8019">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fe8019">for</span> <span class="nx">cownum</span> <span style="color: #fe8019">:=</span> <span style="color: #d3869b">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #fe8019">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fe8019">go</span> <span style="color: #fabd2f">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fe8019">go</span> <span style="color: #fabd2f">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #fe8019">:=</span> <span style="color: #fe8019">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fe8019">if</span> <span class="nx">farmerSaid</span> <span style="color: #fe8019">==</span> <span style="color: #b8bb26">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fe8019">func</span> <span style="color: #fabd2f">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fabd2f">runFarm</span><span class="p">(</span><span style="color: #d3869b">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #fabd2f">Println</span><span class="p">(</span><span style="color: #b8bb26">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='hr_high_contrast'><h2><a id='stylelink' href='hr_high_contrast.html' alt='View only hr_high_contrast'>hr_high_contrast</a></h2></a><code><pre style="color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #467faf">package</span> <span style="color: #ffffff">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #467faf">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a87662">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a87662">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a87662">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #467faf">type</span> <span style="color: #ffffff">Moo</span> <span style="color: #467faf">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">Cow</span>   <span style="color: #467faf">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">Sound</span> <span style="color: #467faf">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">Tube</span>  <span style="color: #467faf">chan</span> <span style="color: #467faf">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5a8349">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #5a8349"></span><span style="color: #467faf">func</span> <span style="color: #ffffff">cow</span><span class="p">(</span><span style="color: #ffffff">num</span> <span style="color: #467faf">int</span><span class="p">,</span> <span style="color: #ffffff">mootube</span> <span style="color: #467faf">chan</span> <span style="color: #ffffff">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">tube</span> <span style="color: #e4e400">:=</span> <span style="color: #ffffff">make</span><span class="p">(</span><span style="color: #467faf">chan</span> <span style="color: #467faf">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #467faf">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #467faf">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #467faf">case</span> <span style="color: #ffffff">mootube</span> <span style="color: #e4e400">&lt;-</span> <span style="color: #ffffff">Moo</span><span class="p">{</span><span style="color: #ffffff">num</span><span class="p">,</span> <span style="color: #a87662">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #ffffff">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">num</span><span class="p">,</span> <span style="color: #a87662">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e4e400">&lt;-</span><span style="color: #ffffff">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">num</span><span class="p">,</span> <span style="color: #a87662">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">mootube</span> <span style="color: #e4e400">&lt;-</span> <span style="color: #ffffff">Moo</span><span class="p">{</span><span style="color: #ffffff">num</span><span class="p">,</span> <span style="color: #a87662">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #467faf">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">num</span><span class="p">,</span> <span style="color: #a87662">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #467faf">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #467faf">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">num</span><span class="p">,</span> <span style="color: #a87662">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">time</span><span class="p">.</span><span style="color: #ffffff">Sleep</span><span class="p">(</span><span style="color: #ffffff">time</span><span class="p">.</span><span style="color: #ffffff">Duration</span><span class="p">(</span><span style="color: #ffffff">rand</span><span class="p">.</span><span style="color: #ffffff">Int31n</span><span class="p">(</span><span style="color: #ffffff">1000</span><span class="p">))</span> <span style="color: #e4e400">*</span> <span style="color: #ffffff">time</span><span class="p">.</span><span style="color: #ffffff">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5a8349">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #5a8349"></span><span style="color: #467faf">func</span> <span style="color: #ffffff">farmer</span><span class="p">(</span><span style="color: #ffffff">numcows</span> <span style="color: #467faf">int</span><span class="p">,</span> <span style="color: #ffffff">mootube</span> <span style="color: #467faf">chan</span> <span style="color: #ffffff">Moo</span><span class="p">,</span> <span style="color: #ffffff">farmertube</span> <span style="color: #467faf">chan</span> <span style="color: #467faf">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #467faf">for</span> <span style="color: #ffffff">hungryCows</span> <span style="color: #e4e400">:=</span> <span style="color: #ffffff">numcows</span><span class="p">;</span> <span style="color: #ffffff">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ffffff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff">moo</span> <span style="color: #e4e400">:=</span> <span style="color: #e4e400">&lt;-</span><span style="color: #ffffff">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #467faf">if</span> <span style="color: #ffffff">moo</span><span class="p">.</span><span style="color: #ffffff">Sound</span> <span style="color: #e4e400">==</span> <span style="color: #a87662">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">moo</span><span class="p">.</span><span style="color: #ffffff">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">hungryCows</span><span style="color: #e4e400">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #467faf">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #ffffff">moo</span><span class="p">.</span><span style="color: #ffffff">Sound</span><span class="p">,</span> <span style="color: #a87662">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">moo</span><span class="p">.</span><span style="color: #ffffff">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">time</span><span class="p">.</span><span style="color: #ffffff">Sleep</span><span class="p">(</span><span style="color: #ffffff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #ffffff">moo</span><span class="p">.</span><span style="color: #ffffff">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff">moo</span><span class="p">.</span><span style="color: #ffffff">Tube</span> <span style="color: #e4e400">&lt;-</span> <span style="color: #467faf">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">farmertube</span> <span style="color: #e4e400">&lt;-</span> <span style="color: #a87662">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5a8349">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #5a8349"></span><span style="color: #467faf">func</span> <span style="color: #ffffff">runFarm</span><span class="p">(</span><span style="color: #ffffff">numcows</span> <span style="color: #467faf">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">farmertube</span> <span style="color: #e4e400">:=</span> <span style="color: #ffffff">make</span><span class="p">(</span><span style="color: #467faf">chan</span> <span style="color: #467faf">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">mootube</span> <span style="color: #e4e400">:=</span> <span style="color: #ffffff">make</span><span class="p">(</span><span style="color: #467faf">chan</span> <span style="color: #ffffff">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #467faf">for</span> <span style="color: #ffffff">cownum</span> <span style="color: #e4e400">:=</span> <span style="color: #ffffff">0</span><span class="p">;</span> <span style="color: #ffffff">cownum</span> <span class="p">&lt;</span> <span style="color: #ffffff">numcows</span><span class="p">;</span> <span style="color: #ffffff">cownum</span><span style="color: #e4e400">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #467faf">go</span> <span style="color: #ffffff">cow</span><span class="p">(</span><span style="color: #ffffff">cownum</span><span class="p">,</span> <span style="color: #ffffff">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #467faf">go</span> <span style="color: #ffffff">farmer</span><span class="p">(</span><span style="color: #ffffff">numcows</span><span class="p">,</span> <span style="color: #ffffff">mootube</span><span class="p">,</span> <span style="color: #ffffff">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">farmerSaid</span> <span style="color: #e4e400">:=</span> <span style="color: #e4e400">&lt;-</span><span style="color: #ffffff">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #467faf">if</span> <span style="color: #ffffff">farmerSaid</span> <span style="color: #e4e400">==</span> <span style="color: #a87662">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #467faf">func</span> <span style="color: #ffffff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">runFarm</span><span class="p">(</span><span style="color: #ffffff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff">fmt</span><span class="p">.</span><span style="color: #ffffff">Println</span><span class="p">(</span><span style="color: #a87662">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='hrdark'><h2><a id='stylelink' href='hrdark.html' alt='View only hrdark'>hrdark</a></h2></a><code><pre style="color: #1d2432;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff636f">package</span> <span style="color: #58a1dd">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff636f">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6be9d">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6be9d">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6be9d">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff636f">type</span> <span style="color: #58a1dd">Moo</span> <span style="color: #ff636f">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">Cow</span>   <span style="color: #ff636f">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">Sound</span> <span style="color: #ff636f">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">Tube</span>  <span style="color: #ff636f">chan</span> <span style="color: #ff636f">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #828b96; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #828b96; font-style: italic"></span><span style="color: #ff636f">func</span> <span style="color: #58a1dd">cow</span><span class="p">(</span><span style="color: #58a1dd">num</span> <span style="color: #ff636f">int</span><span class="p">,</span> <span style="color: #58a1dd">mootube</span> <span style="color: #ff636f">chan</span> <span style="color: #58a1dd">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">tube</span> <span style="color: #ff636f">:=</span> <span style="color: #58a1dd">make</span><span class="p">(</span><span style="color: #ff636f">chan</span> <span style="color: #ff636f">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff636f">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff636f">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff636f">case</span> <span style="color: #58a1dd">mootube</span> <span style="color: #ff636f">&lt;-</span> <span style="color: #58a1dd">Moo</span><span class="p">{</span><span style="color: #58a1dd">num</span><span class="p">,</span> <span style="color: #a6be9d">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #58a1dd">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">num</span><span class="p">,</span> <span style="color: #a6be9d">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff636f">&lt;-</span><span style="color: #58a1dd">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">num</span><span class="p">,</span> <span style="color: #a6be9d">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">mootube</span> <span style="color: #ff636f">&lt;-</span> <span style="color: #58a1dd">Moo</span><span class="p">{</span><span style="color: #58a1dd">num</span><span class="p">,</span> <span style="color: #a6be9d">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ff636f">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">num</span><span class="p">,</span> <span style="color: #a6be9d">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff636f">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff636f">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">num</span><span class="p">,</span> <span style="color: #a6be9d">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">time</span><span class="p">.</span><span style="color: #58a1dd">Sleep</span><span class="p">(</span><span style="color: #58a1dd">time</span><span class="p">.</span><span style="color: #58a1dd">Duration</span><span class="p">(</span><span style="color: #58a1dd">rand</span><span class="p">.</span><span style="color: #58a1dd">Int31n</span><span class="p">(</span><span style="color: #a6be9d">1000</span><span class="p">))</span> <span style="color: #ff636f">*</span> <span style="color: #58a1dd">time</span><span class="p">.</span><span style="color: #58a1dd">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #828b96; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #828b96; font-style: italic"></span><span style="color: #ff636f">func</span> <span style="color: #58a1dd">farmer</span><span class="p">(</span><span style="color: #58a1dd">numcows</span> <span style="color: #ff636f">int</span><span class="p">,</span> <span style="color: #58a1dd">mootube</span> <span style="color: #ff636f">chan</span> <span style="color: #58a1dd">Moo</span><span class="p">,</span> <span style="color: #58a1dd">farmertube</span> <span style="color: #ff636f">chan</span> <span style="color: #ff636f">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff636f">for</span> <span style="color: #58a1dd">hungryCows</span> <span style="color: #ff636f">:=</span> <span style="color: #58a1dd">numcows</span><span class="p">;</span> <span style="color: #58a1dd">hungryCows</span> <span class="p">&gt;</span> <span style="color: #a6be9d">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #58a1dd">moo</span> <span style="color: #ff636f">:=</span> <span style="color: #ff636f">&lt;-</span><span style="color: #58a1dd">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff636f">if</span> <span style="color: #58a1dd">moo</span><span class="p">.</span><span style="color: #58a1dd">Sound</span> <span style="color: #ff636f">==</span> <span style="color: #a6be9d">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">moo</span><span class="p">.</span><span style="color: #58a1dd">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">hungryCows</span><span style="color: #ff636f">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ff636f">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #58a1dd">moo</span><span class="p">.</span><span style="color: #58a1dd">Sound</span><span class="p">,</span> <span style="color: #a6be9d">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">moo</span><span class="p">.</span><span style="color: #58a1dd">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">time</span><span class="p">.</span><span style="color: #58a1dd">Sleep</span><span class="p">(</span><span style="color: #a6be9d">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #58a1dd">moo</span><span class="p">.</span><span style="color: #58a1dd">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #58a1dd">moo</span><span class="p">.</span><span style="color: #58a1dd">Tube</span> <span style="color: #ff636f">&lt;-</span> <span style="color: #ff636f">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">farmertube</span> <span style="color: #ff636f">&lt;-</span> <span style="color: #a6be9d">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #828b96; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #828b96; font-style: italic"></span><span style="color: #ff636f">func</span> <span style="color: #58a1dd">runFarm</span><span class="p">(</span><span style="color: #58a1dd">numcows</span> <span style="color: #ff636f">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">farmertube</span> <span style="color: #ff636f">:=</span> <span style="color: #58a1dd">make</span><span class="p">(</span><span style="color: #ff636f">chan</span> <span style="color: #ff636f">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">mootube</span> <span style="color: #ff636f">:=</span> <span style="color: #58a1dd">make</span><span class="p">(</span><span style="color: #ff636f">chan</span> <span style="color: #58a1dd">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff636f">for</span> <span style="color: #58a1dd">cownum</span> <span style="color: #ff636f">:=</span> <span style="color: #a6be9d">0</span><span class="p">;</span> <span style="color: #58a1dd">cownum</span> <span class="p">&lt;</span> <span style="color: #58a1dd">numcows</span><span class="p">;</span> <span style="color: #58a1dd">cownum</span><span style="color: #ff636f">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff636f">go</span> <span style="color: #58a1dd">cow</span><span class="p">(</span><span style="color: #58a1dd">cownum</span><span class="p">,</span> <span style="color: #58a1dd">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff636f">go</span> <span style="color: #58a1dd">farmer</span><span class="p">(</span><span style="color: #58a1dd">numcows</span><span class="p">,</span> <span style="color: #58a1dd">mootube</span><span class="p">,</span> <span style="color: #58a1dd">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">farmerSaid</span> <span style="color: #ff636f">:=</span> <span style="color: #ff636f">&lt;-</span><span style="color: #58a1dd">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff636f">if</span> <span style="color: #58a1dd">farmerSaid</span> <span style="color: #ff636f">==</span> <span style="color: #a6be9d">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff636f">func</span> <span style="color: #58a1dd">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">runFarm</span><span class="p">(</span><span style="color: #a6be9d">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #58a1dd">fmt</span><span class="p">.</span><span style="color: #58a1dd">Println</span><span class="p">(</span><span style="color: #a6be9d">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='igor'><h2><a id='stylelink' href='igor.html' alt='View only igor'>igor</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #009c00">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #009c00">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #009c00">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">type</span> <span class="nx">Moo</span> <span style="color: #0000ff">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #0000ff">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #0000ff">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #c34e00">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000ff">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #009c00">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #c34e00">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #c34e00">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #c34e00">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #c34e00">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #0000ff">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #009c00">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #0000ff">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #009c00">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #c34e00">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #009c00">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000; font-style: italic"></span><span style="color: #0000ff">func</span> <span style="color: #c34e00">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #0000ff">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #0000ff">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">go</span> <span style="color: #c34e00">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">go</span> <span style="color: #c34e00">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #009c00">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">func</span> <span style="color: #c34e00">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c34e00">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #c34e00">Println</span><span class="p">(</span><span style="color: #009c00">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='lovelace'><h2><a id='stylelink' href='lovelace.html' alt='View only lovelace'>lovelace</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2838b0">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2838b0">import</span> <span style="color: #888888">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b83838">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b83838">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b83838">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2838b0; font-style: italic">type</span> <span class="nx">Moo</span> <span style="color: #2838b0; font-style: italic">struct</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #2838b0; font-style: italic">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #2838b0; font-style: italic">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">cow</span><span style="color: #888888">(</span><span class="nx">num</span> <span style="color: #2838b0; font-style: italic">int</span><span style="color: #888888">,</span> <span class="nx">mootube</span> <span style="color: #2838b0; font-style: italic">chan</span> <span class="nx">Moo</span><span style="color: #888888">)</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #388038">make</span><span style="color: #888888">(</span><span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">bool</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2838b0">for</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2838b0">select</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2838b0">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span style="color: #888888">{</span><span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;moo&#34;</span><span style="color: #888888">,</span> <span class="nx">tube</span><span style="color: #888888">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;mooed through the mootube&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;is being fed and stops mooing&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span style="color: #888888">{</span><span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;mooh&#34;</span><span style="color: #888888">,</span> <span style="color: #444444; font-style: italic">nil</span><span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;moos one last time out of happyness&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #2838b0">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2838b0">default</span><span style="color: #888888">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">num</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #888888">.</span><span style="color: #785840">Sleep</span><span style="color: #888888">(</span><span class="nx">time</span><span style="color: #888888">.</span><span style="color: #785840">Duration</span><span style="color: #888888">(</span><span class="nx">rand</span><span style="color: #888888">.</span><span style="color: #785840">Int31n</span><span style="color: #888888">(</span><span style="color: #444444">1000</span><span style="color: #888888">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span style="color: #888888">.</span><span class="nx">Millisecond</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">farmer</span><span style="color: #888888">(</span><span class="nx">numcows</span> <span style="color: #2838b0; font-style: italic">int</span><span style="color: #888888">,</span> <span class="nx">mootube</span> <span style="color: #2838b0; font-style: italic">chan</span> <span class="nx">Moo</span><span style="color: #888888">,</span> <span class="nx">farmertube</span> <span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">string</span><span style="color: #888888">)</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2838b0">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span style="color: #888888">;</span> <span class="nx">hungryCows</span> <span style="color: #888888">&gt;</span> <span style="color: #444444">0</span><span style="color: #888888">;</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2838b0">if</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #b83838">&#34;mooh&#34;</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Cow</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #888888">}</span> <span style="color: #2838b0">else</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer heard a&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Sound</span><span style="color: #888888">,</span> <span style="color: #b83838">&#34;from cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Cow</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #888888">.</span><span style="color: #785840">Sleep</span><span style="color: #888888">(</span><span style="color: #444444">2e9</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #888888">,</span> <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Cow</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #888888">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #444444; font-style: italic">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #b83838">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888; font-style: italic"></span><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">runFarm</span><span style="color: #888888">(</span><span class="nx">numcows</span> <span style="color: #2838b0; font-style: italic">int</span><span style="color: #888888">)</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #388038">make</span><span style="color: #888888">(</span><span style="color: #2838b0; font-style: italic">chan</span> <span style="color: #2838b0; font-style: italic">string</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #388038">make</span><span style="color: #888888">(</span><span style="color: #2838b0; font-style: italic">chan</span> <span class="nx">Moo</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2838b0">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #444444">0</span><span style="color: #888888">;</span> <span class="nx">cownum</span> <span style="color: #888888">&lt;</span> <span class="nx">numcows</span><span style="color: #888888">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2838b0">go</span> <span style="color: #785840">cow</span><span style="color: #888888">(</span><span class="nx">cownum</span><span style="color: #888888">,</span> <span class="nx">mootube</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2838b0">go</span> <span style="color: #785840">farmer</span><span style="color: #888888">(</span><span class="nx">numcows</span><span style="color: #888888">,</span> <span class="nx">mootube</span><span style="color: #888888">,</span> <span class="nx">farmertube</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2838b0">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #b83838">&#34;yey!&#34;</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;All cows are happy.&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2838b0; font-style: italic">func</span> <span style="color: #785840">main</span><span style="color: #888888">()</span> <span style="color: #888888">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #785840">runFarm</span><span style="color: #888888">(</span><span style="color: #444444">4</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #888888">.</span><span style="color: #785840">Println</span><span style="color: #888888">(</span><span style="color: #b83838">&#34;done&#34;</span><span style="color: #888888">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">}</span></span></span></code></pre></code><a name='manni'><h2><a id='stylelink' href='manni.html' alt='View only manni'>manni</a></h2></a><code><pre style="background-color: #f0f3f3;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #006699; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #006699; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cc3300">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cc3300">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cc3300">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #006699; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #006699; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #007788; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #007788; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0099ff; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #0099ff; font-style: italic"></span><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #007788; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #006699; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #555555">:=</span> <span style="color: #336666">make</span><span class="p">(</span><span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #006699; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #006699; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #006699; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #555555">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #555555">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #555555">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #006699; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #006699; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #006699; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cc3300">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #cc00ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #cc00ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #cc00ff">Int31n</span><span class="p">(</span><span style="color: #ff6600">1000</span><span class="p">))</span> <span style="color: #555555">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0099ff; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #0099ff; font-style: italic"></span><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #007788; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #006699; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #006699; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #555555">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #555555">:=</span> <span style="color: #555555">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #006699; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #555555">==</span> <span style="color: #cc3300">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #555555">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #006699; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #cc3300">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #cc00ff">Sleep</span><span class="p">(</span><span style="color: #ff6600">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #555555">&lt;-</span> <span style="color: #006699; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #555555">&lt;-</span> <span style="color: #cc3300">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0099ff; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #0099ff; font-style: italic"></span><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #007788; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #555555">:=</span> <span style="color: #336666">make</span><span class="p">(</span><span style="color: #006699; font-weight: bold">chan</span> <span style="color: #007788; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #555555">:=</span> <span style="color: #336666">make</span><span class="p">(</span><span style="color: #006699; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #006699; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #555555">:=</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #555555">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #006699; font-weight: bold">go</span> <span style="color: #cc00ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #006699; font-weight: bold">go</span> <span style="color: #cc00ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #555555">:=</span> <span style="color: #555555">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #006699; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #555555">==</span> <span style="color: #cc3300">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #006699; font-weight: bold">func</span> <span style="color: #cc00ff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cc00ff">runFarm</span><span class="p">(</span><span style="color: #ff6600">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #cc00ff">Println</span><span class="p">(</span><span style="color: #cc3300">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='modus-operandi'><h2><a id='stylelink' href='modus-operandi.html' alt='View only modus-operandi'>modus-operandi</a></h2></a><code><pre style="color: #000000; background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5317ac">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5317ac">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2544bb">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2544bb">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2544bb">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5317ac">type</span> <span class="nx">Moo</span> <span style="color: #5317ac">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #005a5f">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #005a5f">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #5317ac">chan</span> <span style="color: #005a5f">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #505050">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #505050"></span><span style="color: #5317ac">func</span> <span style="color: #721045">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #005a5f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #5317ac">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #00538b">:=</span> <span style="color: #8f0075">make</span><span class="p">(</span><span style="color: #5317ac">chan</span> <span style="color: #005a5f">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5317ac">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5317ac">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5317ac">case</span> <span class="nx">mootube</span> <span style="color: #00538b">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #2544bb">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2544bb">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #00538b">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2544bb">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #00538b">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #2544bb">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000c0">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2544bb">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #5317ac">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5317ac">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2544bb">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #721045">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #721045">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #721045">Int31n</span><span class="p">(</span><span style="color: #0000c0">1000</span><span class="p">))</span> <span style="color: #00538b">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #505050">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #505050"></span><span style="color: #5317ac">func</span> <span style="color: #721045">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #005a5f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #5317ac">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #5317ac">chan</span> <span style="color: #005a5f">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5317ac">for</span> <span class="nx">hungryCows</span> <span style="color: #00538b">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000c0">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #00538b">:=</span> <span style="color: #00538b">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5317ac">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #00538b">==</span> <span style="color: #2544bb">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #00538b">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #5317ac">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #2544bb">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #721045">Sleep</span><span class="p">(</span><span style="color: #0000c0">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #00538b">&lt;-</span> <span style="color: #0000c0">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #00538b">&lt;-</span> <span style="color: #2544bb">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #505050">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #505050"></span><span style="color: #5317ac">func</span> <span style="color: #721045">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #005a5f">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #00538b">:=</span> <span style="color: #8f0075">make</span><span class="p">(</span><span style="color: #5317ac">chan</span> <span style="color: #005a5f">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #00538b">:=</span> <span style="color: #8f0075">make</span><span class="p">(</span><span style="color: #5317ac">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5317ac">for</span> <span class="nx">cownum</span> <span style="color: #00538b">:=</span> <span style="color: #0000c0">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #00538b">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5317ac">go</span> <span style="color: #721045">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5317ac">go</span> <span style="color: #721045">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #00538b">:=</span> <span style="color: #00538b">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5317ac">if</span> <span class="nx">farmerSaid</span> <span style="color: #00538b">==</span> <span style="color: #2544bb">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5317ac">func</span> <span style="color: #721045">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #721045">runFarm</span><span class="p">(</span><span style="color: #0000c0">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #721045">Println</span><span class="p">(</span><span style="color: #2544bb">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='modus-vivendi'><h2><a id='stylelink' href='modus-vivendi.html' alt='View only modus-vivendi'>modus-vivendi</a></h2></a><code><pre style="color: #ffffff; background-color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b6a0ff">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b6a0ff">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #79a8ff">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #79a8ff">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #79a8ff">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b6a0ff">type</span> <span class="nx">Moo</span> <span style="color: #b6a0ff">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #6ae4b9">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #6ae4b9">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #b6a0ff">chan</span> <span style="color: #6ae4b9">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a8a8a8">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #a8a8a8"></span><span style="color: #b6a0ff">func</span> <span style="color: #feacd0">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #6ae4b9">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #b6a0ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #00d3d0">:=</span> <span style="color: #f78fe7">make</span><span class="p">(</span><span style="color: #b6a0ff">chan</span> <span style="color: #6ae4b9">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b6a0ff">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #b6a0ff">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #b6a0ff">case</span> <span class="nx">mootube</span> <span style="color: #00d3d0">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #79a8ff">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79a8ff">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #00d3d0">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79a8ff">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #00d3d0">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #79a8ff">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #00bcff">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79a8ff">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #b6a0ff">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #b6a0ff">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #79a8ff">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #feacd0">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #feacd0">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #feacd0">Int31n</span><span class="p">(</span><span style="color: #00bcff">1000</span><span class="p">))</span> <span style="color: #00d3d0">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a8a8a8">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #a8a8a8"></span><span style="color: #b6a0ff">func</span> <span style="color: #feacd0">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6ae4b9">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #b6a0ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #b6a0ff">chan</span> <span style="color: #6ae4b9">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b6a0ff">for</span> <span class="nx">hungryCows</span> <span style="color: #00d3d0">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #00bcff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #00d3d0">:=</span> <span style="color: #00d3d0">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #b6a0ff">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #00d3d0">==</span> <span style="color: #79a8ff">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #00d3d0">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #b6a0ff">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #79a8ff">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #feacd0">Sleep</span><span class="p">(</span><span style="color: #00bcff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #00d3d0">&lt;-</span> <span style="color: #00bcff">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #00d3d0">&lt;-</span> <span style="color: #79a8ff">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a8a8a8">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #a8a8a8"></span><span style="color: #b6a0ff">func</span> <span style="color: #feacd0">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6ae4b9">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #00d3d0">:=</span> <span style="color: #f78fe7">make</span><span class="p">(</span><span style="color: #b6a0ff">chan</span> <span style="color: #6ae4b9">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #00d3d0">:=</span> <span style="color: #f78fe7">make</span><span class="p">(</span><span style="color: #b6a0ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b6a0ff">for</span> <span class="nx">cownum</span> <span style="color: #00d3d0">:=</span> <span style="color: #00bcff">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #00d3d0">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #b6a0ff">go</span> <span style="color: #feacd0">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b6a0ff">go</span> <span style="color: #feacd0">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #00d3d0">:=</span> <span style="color: #00d3d0">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #b6a0ff">if</span> <span class="nx">farmerSaid</span> <span style="color: #00d3d0">==</span> <span style="color: #79a8ff">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b6a0ff">func</span> <span style="color: #feacd0">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #feacd0">runFarm</span><span class="p">(</span><span style="color: #00bcff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #feacd0">Println</span><span class="p">(</span><span style="color: #79a8ff">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='monokai'><h2><a id='stylelink' href='monokai.html' alt='View only monokai'>monokai</a></h2></a><code><pre style="color: #f8f8f2; background-color: #272822;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #f92672">package</span> <span style="color: #a6e22e">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #f92672">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e6db74">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e6db74">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e6db74">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #66d9ef">type</span> <span style="color: #a6e22e">Moo</span> <span style="color: #66d9ef">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">Cow</span>   <span style="color: #66d9ef">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">Sound</span> <span style="color: #66d9ef">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">Tube</span>  <span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e"></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">cow</span><span class="p">(</span><span style="color: #a6e22e">num</span> <span style="color: #66d9ef">int</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span> <span style="color: #66d9ef">chan</span> <span style="color: #a6e22e">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">tube</span> <span style="color: #f92672">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #66d9ef">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #66d9ef">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #66d9ef">case</span> <span style="color: #a6e22e">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #a6e22e">Moo</span><span class="p">{</span><span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #a6e22e">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #f92672">&lt;-</span><span style="color: #a6e22e">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #a6e22e">Moo</span><span class="p">{</span><span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #66d9ef">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #66d9ef">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #66d9ef">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">num</span><span class="p">,</span> <span style="color: #e6db74">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Sleep</span><span class="p">(</span><span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Duration</span><span class="p">(</span><span style="color: #a6e22e">rand</span><span class="p">.</span><span style="color: #a6e22e">Int31n</span><span class="p">(</span><span style="color: #ae81ff">1000</span><span class="p">))</span> <span style="color: #f92672">*</span> <span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e"></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">farmer</span><span class="p">(</span><span style="color: #a6e22e">numcows</span> <span style="color: #66d9ef">int</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span> <span style="color: #66d9ef">chan</span> <span style="color: #a6e22e">Moo</span><span class="p">,</span> <span style="color: #a6e22e">farmertube</span> <span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">hungryCows</span> <span style="color: #f92672">:=</span> <span style="color: #a6e22e">numcows</span><span class="p">;</span> <span style="color: #a6e22e">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ae81ff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a6e22e">moo</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #a6e22e">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Sound</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">hungryCows</span><span style="color: #f92672">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #66d9ef">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Sound</span><span class="p">,</span> <span style="color: #e6db74">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">time</span><span class="p">.</span><span style="color: #a6e22e">Sleep</span><span class="p">(</span><span style="color: #ae81ff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a6e22e">moo</span><span class="p">.</span><span style="color: #a6e22e">Tube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #66d9ef">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">farmertube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #e6db74">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e"></span><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">runFarm</span><span class="p">(</span><span style="color: #a6e22e">numcows</span> <span style="color: #66d9ef">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">farmertube</span> <span style="color: #f92672">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #66d9ef">chan</span> <span style="color: #66d9ef">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">mootube</span> <span style="color: #f92672">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #66d9ef">chan</span> <span style="color: #a6e22e">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #66d9ef">for</span> <span style="color: #a6e22e">cownum</span> <span style="color: #f92672">:=</span> <span style="color: #ae81ff">0</span><span class="p">;</span> <span style="color: #a6e22e">cownum</span> <span class="p">&lt;</span> <span style="color: #a6e22e">numcows</span><span class="p">;</span> <span style="color: #a6e22e">cownum</span><span style="color: #f92672">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #66d9ef">go</span> <span style="color: #a6e22e">cow</span><span class="p">(</span><span style="color: #a6e22e">cownum</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #66d9ef">go</span> <span style="color: #a6e22e">farmer</span><span class="p">(</span><span style="color: #a6e22e">numcows</span><span class="p">,</span> <span style="color: #a6e22e">mootube</span><span class="p">,</span> <span style="color: #a6e22e">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">farmerSaid</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #a6e22e">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">farmerSaid</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #66d9ef">func</span> <span style="color: #a6e22e">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">runFarm</span><span class="p">(</span><span style="color: #ae81ff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a6e22e">fmt</span><span class="p">.</span><span style="color: #a6e22e">Println</span><span class="p">(</span><span style="color: #e6db74">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='monokailight'><h2><a id='stylelink' href='monokailight.html' alt='View only monokailight'>monokailight</a></h2></a><code><pre style="color: #272822; background-color: #fafafa;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #f92672">package</span> <span style="color: #75af00">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #f92672">import</span> <span style="color: #111111">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #d88200">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #d88200">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #d88200">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00a8c8">type</span> <span style="color: #75af00">Moo</span> <span style="color: #00a8c8">struct</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">Cow</span>   <span style="color: #00a8c8">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">Sound</span> <span style="color: #00a8c8">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">Tube</span>  <span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e"></span><span style="color: #00a8c8">func</span> <span style="color: #75af00">cow</span><span style="color: #111111">(</span><span style="color: #75af00">num</span> <span style="color: #00a8c8">int</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span> <span style="color: #00a8c8">chan</span> <span style="color: #75af00">Moo</span><span style="color: #111111">)</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">tube</span> <span style="color: #f92672">:=</span> <span style="color: #111111">make</span><span style="color: #111111">(</span><span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">bool</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00a8c8">for</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #00a8c8">select</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #00a8c8">case</span> <span style="color: #75af00">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #75af00">Moo</span><span style="color: #111111">{</span><span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;moo&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">tube</span><span style="color: #111111">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;mooed through the mootube&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #f92672">&lt;-</span><span style="color: #75af00">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;is being fed and stops mooing&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">mootube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #75af00">Moo</span><span style="color: #111111">{</span><span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;mooh&#34;</span><span style="color: #111111">,</span> <span style="color: #00a8c8">nil</span><span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;moos one last time out of happyness&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #00a8c8">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #00a8c8">default</span><span style="color: #111111">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">num</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Sleep</span><span style="color: #111111">(</span><span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Duration</span><span style="color: #111111">(</span><span style="color: #75af00">rand</span><span style="color: #111111">.</span><span style="color: #75af00">Int31n</span><span style="color: #111111">(</span><span style="color: #ae81ff">1000</span><span style="color: #111111">))</span> <span style="color: #f92672">*</span> <span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Millisecond</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e"></span><span style="color: #00a8c8">func</span> <span style="color: #75af00">farmer</span><span style="color: #111111">(</span><span style="color: #75af00">numcows</span> <span style="color: #00a8c8">int</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span> <span style="color: #00a8c8">chan</span> <span style="color: #75af00">Moo</span><span style="color: #111111">,</span> <span style="color: #75af00">farmertube</span> <span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">string</span><span style="color: #111111">)</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00a8c8">for</span> <span style="color: #75af00">hungryCows</span> <span style="color: #f92672">:=</span> <span style="color: #75af00">numcows</span><span style="color: #111111">;</span> <span style="color: #75af00">hungryCows</span> <span style="color: #111111">&gt;</span> <span style="color: #ae81ff">0</span><span style="color: #111111">;</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #75af00">moo</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #75af00">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #00a8c8">if</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Sound</span> <span style="color: #f92672">==</span> <span style="color: #d88200">&#34;mooh&#34;</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Cow</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">hungryCows</span><span style="color: #f92672">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #111111">}</span> <span style="color: #00a8c8">else</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer heard a&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Sound</span><span style="color: #111111">,</span> <span style="color: #d88200">&#34;from cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Cow</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">time</span><span style="color: #111111">.</span><span style="color: #75af00">Sleep</span><span style="color: #111111">(</span><span style="color: #ae81ff">2e9</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #111111">,</span> <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Cow</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #75af00">moo</span><span style="color: #111111">.</span><span style="color: #75af00">Tube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #00a8c8">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">farmertube</span> <span style="color: #f92672">&lt;-</span> <span style="color: #d88200">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #75715e"></span><span style="color: #00a8c8">func</span> <span style="color: #75af00">runFarm</span><span style="color: #111111">(</span><span style="color: #75af00">numcows</span> <span style="color: #00a8c8">int</span><span style="color: #111111">)</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">farmertube</span> <span style="color: #f92672">:=</span> <span style="color: #111111">make</span><span style="color: #111111">(</span><span style="color: #00a8c8">chan</span> <span style="color: #00a8c8">string</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">mootube</span> <span style="color: #f92672">:=</span> <span style="color: #111111">make</span><span style="color: #111111">(</span><span style="color: #00a8c8">chan</span> <span style="color: #75af00">Moo</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00a8c8">for</span> <span style="color: #75af00">cownum</span> <span style="color: #f92672">:=</span> <span style="color: #ae81ff">0</span><span style="color: #111111">;</span> <span style="color: #75af00">cownum</span> <span style="color: #111111">&lt;</span> <span style="color: #75af00">numcows</span><span style="color: #111111">;</span> <span style="color: #75af00">cownum</span><span style="color: #f92672">++</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #00a8c8">go</span> <span style="color: #75af00">cow</span><span style="color: #111111">(</span><span style="color: #75af00">cownum</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00a8c8">go</span> <span style="color: #75af00">farmer</span><span style="color: #111111">(</span><span style="color: #75af00">numcows</span><span style="color: #111111">,</span> <span style="color: #75af00">mootube</span><span style="color: #111111">,</span> <span style="color: #75af00">farmertube</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">farmerSaid</span> <span style="color: #f92672">:=</span> <span style="color: #f92672">&lt;-</span><span style="color: #75af00">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00a8c8">if</span> <span style="color: #75af00">farmerSaid</span> <span style="color: #f92672">==</span> <span style="color: #d88200">&#34;yey!&#34;</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;All cows are happy.&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #111111">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00a8c8">func</span> <span style="color: #75af00">main</span><span style="color: #111111">()</span> <span style="color: #111111">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">runFarm</span><span style="color: #111111">(</span><span style="color: #ae81ff">4</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #75af00">fmt</span><span style="color: #111111">.</span><span style="color: #75af00">Println</span><span style="color: #111111">(</span><span style="color: #d88200">&#34;done&#34;</span><span style="color: #111111">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #111111">}</span></span></span></code></pre></code><a name='murphy'><h2><a id='stylelink' href='murphy.html' alt='View only murphy'>murphy</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228899; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228899; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="background-color: #e0e0ff">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="background-color: #e0e0ff">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="background-color: #e0e0ff">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228899; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #228899; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #6666ff; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #6666ff; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #666666; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #666666; font-style: italic"></span><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #6666ff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #228899; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #333333">:=</span> <span style="color: #007722">make</span><span class="p">(</span><span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #228899; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #228899; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #228899; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #333333">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #333333">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #228899; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #228899; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #228899; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #6666ff; font-weight: bold">1000</span><span class="p">))</span> <span style="color: #333333">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #666666; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #666666; font-style: italic"></span><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6666ff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #228899; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #228899; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #333333">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #6666ff; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #228899; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #333333">==</span> <span style="background-color: #e0e0ff">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #333333">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #228899; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="background-color: #e0e0ff">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #6600ee; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #333333">&lt;-</span> <span style="color: #228899; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #333333">&lt;-</span> <span style="background-color: #e0e0ff">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #666666; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #666666; font-style: italic"></span><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6666ff; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #333333">:=</span> <span style="color: #007722">make</span><span class="p">(</span><span style="color: #228899; font-weight: bold">chan</span> <span style="color: #6666ff; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #333333">:=</span> <span style="color: #007722">make</span><span class="p">(</span><span style="color: #228899; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #228899; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #333333">:=</span> <span style="color: #6666ff; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #333333">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #228899; font-weight: bold">go</span> <span style="color: #55eedd; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #228899; font-weight: bold">go</span> <span style="color: #55eedd; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #333333">:=</span> <span style="color: #333333">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #228899; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #333333">==</span> <span style="background-color: #e0e0ff">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228899; font-weight: bold">func</span> <span style="color: #55eedd; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #55eedd; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #6666ff; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #55eedd; font-weight: bold">Println</span><span class="p">(</span><span style="background-color: #e0e0ff">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='native'><h2><a id='stylelink' href='native.html' alt='View only native'>native</a></h2></a><code><pre style="color: #d0d0d0; background-color: #202020;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6ab825; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6ab825; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ed9d13">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ed9d13">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ed9d13">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6ab825; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #6ab825; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #6ab825; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #6ab825; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999999; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999999; font-style: italic"></span><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #6ab825; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #6ab825; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #24909d">make</span><span class="p">(</span><span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #6ab825; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #6ab825; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #6ab825; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #6ab825; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #6ab825; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #6ab825; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ed9d13">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #447fcf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #447fcf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #447fcf">Int31n</span><span class="p">(</span><span style="color: #3677a9">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999999; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999999; font-style: italic"></span><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6ab825; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #6ab825; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #6ab825; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #3677a9">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #6ab825; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #ed9d13">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #6ab825; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #ed9d13">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #447fcf">Sleep</span><span class="p">(</span><span style="color: #3677a9">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #6ab825; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #ed9d13">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999999; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999999; font-style: italic"></span><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #6ab825; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #24909d">make</span><span class="p">(</span><span style="color: #6ab825; font-weight: bold">chan</span> <span style="color: #6ab825; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #24909d">make</span><span class="p">(</span><span style="color: #6ab825; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #6ab825; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #3677a9">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #6ab825; font-weight: bold">go</span> <span style="color: #447fcf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #6ab825; font-weight: bold">go</span> <span style="color: #447fcf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #6ab825; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #ed9d13">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6ab825; font-weight: bold">func</span> <span style="color: #447fcf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #447fcf">runFarm</span><span class="p">(</span><span style="color: #3677a9">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #447fcf">Println</span><span class="p">(</span><span style="color: #ed9d13">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='nord'><h2><a id='stylelink' href='nord.html' alt='View only nord'>nord</a></h2></a><code><pre style="color: #d8dee9; background-color: #2e3440;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #81a1c1; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #81a1c1; font-weight: bold">import</span> <span style="color: #eceff4">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a3be8c">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a3be8c">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a3be8c">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #81a1c1; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #81a1c1; font-weight: bold">struct</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #81a1c1">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #81a1c1">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #81a1c1; font-weight: bold">chan</span> <span style="color: #81a1c1">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #616e87; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #616e87; font-style: italic"></span><span style="color: #81a1c1; font-weight: bold">func</span> <span style="color: #88c0d0">cow</span><span style="color: #eceff4">(</span><span class="nx">num</span> <span style="color: #81a1c1">int</span><span style="color: #eceff4">,</span> <span class="nx">mootube</span> <span style="color: #81a1c1; font-weight: bold">chan</span> <span class="nx">Moo</span><span style="color: #eceff4">)</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #81a1c1">:=</span> <span style="color: #81a1c1">make</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">chan</span> <span style="color: #81a1c1">bool</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #81a1c1; font-weight: bold">for</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #81a1c1; font-weight: bold">select</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #81a1c1; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #81a1c1">&lt;-</span> <span class="nx">Moo</span><span style="color: #eceff4">{</span><span class="nx">num</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;moo&#34;</span><span style="color: #eceff4">,</span> <span class="nx">tube</span><span style="color: #eceff4">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">num</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;mooed through the mootube&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #81a1c1">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">num</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;is being fed and stops mooing&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #81a1c1">&lt;-</span> <span class="nx">Moo</span><span style="color: #eceff4">{</span><span class="nx">num</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;mooh&#34;</span><span style="color: #eceff4">,</span> <span style="color: #81a1c1; font-weight: bold">nil</span><span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">num</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;moos one last time out of happyness&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #81a1c1; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #81a1c1; font-weight: bold">default</span><span style="color: #eceff4">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">num</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Sleep</span><span style="color: #eceff4">(</span><span class="nx">time</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Duration</span><span style="color: #eceff4">(</span><span class="nx">rand</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Int31n</span><span style="color: #eceff4">(</span><span style="color: #b48ead">1000</span><span style="color: #eceff4">))</span> <span style="color: #81a1c1">*</span> <span class="nx">time</span><span style="color: #eceff4">.</span><span class="nx">Millisecond</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #616e87; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #616e87; font-style: italic"></span><span style="color: #81a1c1; font-weight: bold">func</span> <span style="color: #88c0d0">farmer</span><span style="color: #eceff4">(</span><span class="nx">numcows</span> <span style="color: #81a1c1">int</span><span style="color: #eceff4">,</span> <span class="nx">mootube</span> <span style="color: #81a1c1; font-weight: bold">chan</span> <span class="nx">Moo</span><span style="color: #eceff4">,</span> <span class="nx">farmertube</span> <span style="color: #81a1c1; font-weight: bold">chan</span> <span style="color: #81a1c1">string</span><span style="color: #eceff4">)</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #81a1c1; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #81a1c1">:=</span> <span class="nx">numcows</span><span style="color: #eceff4">;</span> <span class="nx">hungryCows</span> <span style="color: #eceff4">&gt;</span> <span style="color: #b48ead">0</span><span style="color: #eceff4">;</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #81a1c1">:=</span> <span style="color: #81a1c1">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #81a1c1; font-weight: bold">if</span> <span class="nx">moo</span><span style="color: #eceff4">.</span><span class="nx">Sound</span> <span style="color: #81a1c1">==</span> <span style="color: #a3be8c">&#34;mooh&#34;</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">moo</span><span style="color: #eceff4">.</span><span class="nx">Cow</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #81a1c1">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #eceff4">}</span> <span style="color: #81a1c1; font-weight: bold">else</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Farmer heard a&#34;</span><span style="color: #eceff4">,</span> <span class="nx">moo</span><span style="color: #eceff4">.</span><span class="nx">Sound</span><span style="color: #eceff4">,</span> <span style="color: #a3be8c">&#34;from cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">moo</span><span style="color: #eceff4">.</span><span class="nx">Cow</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Sleep</span><span style="color: #eceff4">(</span><span style="color: #b48ead">2e9</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #eceff4">,</span> <span class="nx">moo</span><span style="color: #eceff4">.</span><span class="nx">Cow</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #eceff4">.</span><span class="nx">Tube</span> <span style="color: #81a1c1">&lt;-</span> <span style="color: #81a1c1; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #81a1c1">&lt;-</span> <span style="color: #a3be8c">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #616e87; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #616e87; font-style: italic"></span><span style="color: #81a1c1; font-weight: bold">func</span> <span style="color: #88c0d0">runFarm</span><span style="color: #eceff4">(</span><span class="nx">numcows</span> <span style="color: #81a1c1">int</span><span style="color: #eceff4">)</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #81a1c1">:=</span> <span style="color: #81a1c1">make</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">chan</span> <span style="color: #81a1c1">string</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #81a1c1">:=</span> <span style="color: #81a1c1">make</span><span style="color: #eceff4">(</span><span style="color: #81a1c1; font-weight: bold">chan</span> <span class="nx">Moo</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #81a1c1; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #81a1c1">:=</span> <span style="color: #b48ead">0</span><span style="color: #eceff4">;</span> <span class="nx">cownum</span> <span style="color: #eceff4">&lt;</span> <span class="nx">numcows</span><span style="color: #eceff4">;</span> <span class="nx">cownum</span><span style="color: #81a1c1">++</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #81a1c1; font-weight: bold">go</span> <span style="color: #88c0d0">cow</span><span style="color: #eceff4">(</span><span class="nx">cownum</span><span style="color: #eceff4">,</span> <span class="nx">mootube</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #81a1c1; font-weight: bold">go</span> <span style="color: #88c0d0">farmer</span><span style="color: #eceff4">(</span><span class="nx">numcows</span><span style="color: #eceff4">,</span> <span class="nx">mootube</span><span style="color: #eceff4">,</span> <span class="nx">farmertube</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #81a1c1">:=</span> <span style="color: #81a1c1">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #81a1c1; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #81a1c1">==</span> <span style="color: #a3be8c">&#34;yey!&#34;</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;All cows are happy.&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #eceff4">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #81a1c1; font-weight: bold">func</span> <span style="color: #88c0d0">main</span><span style="color: #eceff4">()</span> <span style="color: #eceff4">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #88c0d0">runFarm</span><span style="color: #eceff4">(</span><span style="color: #b48ead">4</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #eceff4">.</span><span style="color: #88c0d0">Println</span><span style="color: #eceff4">(</span><span style="color: #a3be8c">&#34;done&#34;</span><span style="color: #eceff4">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #eceff4">}</span></span></span></code></pre></code><a name='onedark'><h2><a id='stylelink' href='onedark.html' alt='View only onedark'>onedark</a></h2></a><code><pre style="color: #abb2bf; background-color: #282c34;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">package</span> <span style="color: #e06c75">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #98c379">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">type</span> <span style="color: #e06c75">Moo</span> <span style="color: #c678dd">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">Cow</span>   <span style="color: #e5c07b">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">Sound</span> <span style="color: #e5c07b">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">Tube</span>  <span style="color: #c678dd">chan</span> <span style="color: #e5c07b">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #7f848e">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #7f848e"></span><span style="color: #c678dd">func</span> <span style="color: #61afef; font-weight: bold">cow</span><span class="p">(</span><span style="color: #e06c75">num</span> <span style="color: #e5c07b">int</span><span class="p">,</span> <span style="color: #e06c75">mootube</span> <span style="color: #c678dd">chan</span> <span style="color: #e06c75">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">tube</span> <span style="color: #56b6c2">:=</span> <span style="color: #e5c07b">make</span><span class="p">(</span><span style="color: #c678dd">chan</span> <span style="color: #e5c07b">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">case</span> <span style="color: #e06c75">mootube</span> <span style="color: #56b6c2">&lt;-</span> <span style="color: #e06c75">Moo</span><span class="p">{</span><span style="color: #e06c75">num</span><span class="p">,</span> <span style="color: #98c379">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #e06c75">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">num</span><span class="p">,</span> <span style="color: #98c379">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #56b6c2">&lt;-</span><span style="color: #e06c75">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">num</span><span class="p">,</span> <span style="color: #98c379">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">mootube</span> <span style="color: #56b6c2">&lt;-</span> <span style="color: #e06c75">Moo</span><span class="p">{</span><span style="color: #e06c75">num</span><span class="p">,</span> <span style="color: #98c379">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #e5c07b">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">num</span><span class="p">,</span> <span style="color: #98c379">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c678dd">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">num</span><span class="p">,</span> <span style="color: #98c379">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">time</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #e06c75">time</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Duration</span><span class="p">(</span><span style="color: #e06c75">rand</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #d19a66">1000</span><span class="p">))</span> <span style="color: #56b6c2">*</span> <span style="color: #e06c75">time</span><span class="p">.</span><span style="color: #e06c75">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #7f848e">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #7f848e"></span><span style="color: #c678dd">func</span> <span style="color: #61afef; font-weight: bold">farmer</span><span class="p">(</span><span style="color: #e06c75">numcows</span> <span style="color: #e5c07b">int</span><span class="p">,</span> <span style="color: #e06c75">mootube</span> <span style="color: #c678dd">chan</span> <span style="color: #e06c75">Moo</span><span class="p">,</span> <span style="color: #e06c75">farmertube</span> <span style="color: #c678dd">chan</span> <span style="color: #e5c07b">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">for</span> <span style="color: #e06c75">hungryCows</span> <span style="color: #56b6c2">:=</span> <span style="color: #e06c75">numcows</span><span class="p">;</span> <span style="color: #e06c75">hungryCows</span> <span class="p">&gt;</span> <span style="color: #d19a66">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #e06c75">moo</span> <span style="color: #56b6c2">:=</span> <span style="color: #56b6c2">&lt;-</span><span style="color: #e06c75">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">if</span> <span style="color: #e06c75">moo</span><span class="p">.</span><span style="color: #e06c75">Sound</span> <span style="color: #56b6c2">==</span> <span style="color: #98c379">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">moo</span><span class="p">.</span><span style="color: #e06c75">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">hungryCows</span><span style="color: #56b6c2">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #c678dd">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #e06c75">moo</span><span class="p">.</span><span style="color: #e06c75">Sound</span><span class="p">,</span> <span style="color: #98c379">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">moo</span><span class="p">.</span><span style="color: #e06c75">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">time</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #d19a66">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #e06c75">moo</span><span class="p">.</span><span style="color: #e06c75">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #e06c75">moo</span><span class="p">.</span><span style="color: #e06c75">Tube</span> <span style="color: #56b6c2">&lt;-</span> <span style="color: #e5c07b">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">farmertube</span> <span style="color: #56b6c2">&lt;-</span> <span style="color: #98c379">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #7f848e">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #7f848e"></span><span style="color: #c678dd">func</span> <span style="color: #61afef; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #e06c75">numcows</span> <span style="color: #e5c07b">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">farmertube</span> <span style="color: #56b6c2">:=</span> <span style="color: #e5c07b">make</span><span class="p">(</span><span style="color: #c678dd">chan</span> <span style="color: #e5c07b">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">mootube</span> <span style="color: #56b6c2">:=</span> <span style="color: #e5c07b">make</span><span class="p">(</span><span style="color: #c678dd">chan</span> <span style="color: #e06c75">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">for</span> <span style="color: #e06c75">cownum</span> <span style="color: #56b6c2">:=</span> <span style="color: #d19a66">0</span><span class="p">;</span> <span style="color: #e06c75">cownum</span> <span class="p">&lt;</span> <span style="color: #e06c75">numcows</span><span class="p">;</span> <span style="color: #e06c75">cownum</span><span style="color: #56b6c2">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c678dd">go</span> <span style="color: #61afef; font-weight: bold">cow</span><span class="p">(</span><span style="color: #e06c75">cownum</span><span class="p">,</span> <span style="color: #e06c75">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">go</span> <span style="color: #61afef; font-weight: bold">farmer</span><span class="p">(</span><span style="color: #e06c75">numcows</span><span class="p">,</span> <span style="color: #e06c75">mootube</span><span class="p">,</span> <span style="color: #e06c75">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">farmerSaid</span> <span style="color: #56b6c2">:=</span> <span style="color: #56b6c2">&lt;-</span><span style="color: #e06c75">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c678dd">if</span> <span style="color: #e06c75">farmerSaid</span> <span style="color: #56b6c2">==</span> <span style="color: #98c379">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c678dd">func</span> <span style="color: #61afef; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #61afef; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #d19a66">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #e06c75">fmt</span><span class="p">.</span><span style="color: #61afef; font-weight: bold">Println</span><span class="p">(</span><span style="color: #98c379">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='onesenterprise'><h2><a id='stylelink' href='onesenterprise.html' alt='View only onesenterprise'>onesenterprise</a></h2></a><code><pre style="color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">package</span> <span style="color: #0000ff">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">import</span> <span style="color: #ff0000">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="s">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="s">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="s">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">type</span> <span style="color: #0000ff">Moo</span> <span style="color: #ff0000">struct</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">Cow</span>   <span style="color: #ff0000">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">Sound</span> <span style="color: #ff0000">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">Tube</span>  <span style="color: #ff0000">chan</span> <span style="color: #ff0000">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008000"></span><span style="color: #ff0000">func</span> <span style="color: #0000ff">cow</span><span style="color: #ff0000">(</span><span style="color: #0000ff">num</span> <span style="color: #ff0000">int</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">mootube</span> <span style="color: #ff0000">chan</span> <span style="color: #0000ff">Moo</span><span style="color: #ff0000">)</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">tube</span> <span style="color: #ff0000">:=</span> <span style="color: #0000ff">make</span><span style="color: #ff0000">(</span><span style="color: #ff0000">chan</span> <span style="color: #ff0000">bool</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">for</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">select</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">case</span> <span style="color: #0000ff">mootube</span> <span style="color: #ff0000">&lt;-</span> <span style="color: #0000ff">Moo</span><span style="color: #ff0000">{</span><span style="color: #0000ff">num</span><span style="color: #ff0000">,</span> <span class="s">&#34;moo&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">tube</span><span style="color: #ff0000">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">num</span><span style="color: #ff0000">,</span> <span class="s">&#34;mooed through the mootube&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff0000">&lt;-</span><span style="color: #0000ff">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">num</span><span style="color: #ff0000">,</span> <span class="s">&#34;is being fed and stops mooing&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">mootube</span> <span style="color: #ff0000">&lt;-</span> <span style="color: #0000ff">Moo</span><span style="color: #ff0000">{</span><span style="color: #0000ff">num</span><span style="color: #ff0000">,</span> <span class="s">&#34;mooh&#34;</span><span style="color: #ff0000">,</span> <span style="color: #ff0000">nil</span><span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">num</span><span style="color: #ff0000">,</span> <span class="s">&#34;moos one last time out of happyness&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff0000">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">default</span><span style="color: #ff0000">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">num</span><span style="color: #ff0000">,</span> <span class="s">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">time</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Sleep</span><span style="color: #ff0000">(</span><span style="color: #0000ff">time</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Duration</span><span style="color: #ff0000">(</span><span style="color: #0000ff">rand</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Int31n</span><span style="color: #ff0000">(</span><span class="mi">1000</span><span style="color: #ff0000">))</span> <span style="color: #ff0000">*</span> <span style="color: #0000ff">time</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Millisecond</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008000"></span><span style="color: #ff0000">func</span> <span style="color: #0000ff">farmer</span><span style="color: #ff0000">(</span><span style="color: #0000ff">numcows</span> <span style="color: #ff0000">int</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">mootube</span> <span style="color: #ff0000">chan</span> <span style="color: #0000ff">Moo</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">farmertube</span> <span style="color: #ff0000">chan</span> <span style="color: #ff0000">string</span><span style="color: #ff0000">)</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">for</span> <span style="color: #0000ff">hungryCows</span> <span style="color: #ff0000">:=</span> <span style="color: #0000ff">numcows</span><span style="color: #ff0000">;</span> <span style="color: #0000ff">hungryCows</span> <span style="color: #ff0000">&gt;</span> <span class="mi">0</span><span style="color: #ff0000">;</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">moo</span> <span style="color: #ff0000">:=</span> <span style="color: #ff0000">&lt;-</span><span style="color: #0000ff">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">if</span> <span style="color: #0000ff">moo</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Sound</span> <span style="color: #ff0000">==</span> <span class="s">&#34;mooh&#34;</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">moo</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Cow</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">hungryCows</span><span style="color: #ff0000">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">}</span> <span style="color: #ff0000">else</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Farmer heard a&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">moo</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Sound</span><span style="color: #ff0000">,</span> <span class="s">&#34;from cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">moo</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Cow</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">time</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Sleep</span><span style="color: #ff0000">(</span><span class="mf">2e9</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">moo</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Cow</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">moo</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Tube</span> <span style="color: #ff0000">&lt;-</span> <span style="color: #ff0000">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">farmertube</span> <span style="color: #ff0000">&lt;-</span> <span class="s">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008000"></span><span style="color: #ff0000">func</span> <span style="color: #0000ff">runFarm</span><span style="color: #ff0000">(</span><span style="color: #0000ff">numcows</span> <span style="color: #ff0000">int</span><span style="color: #ff0000">)</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">farmertube</span> <span style="color: #ff0000">:=</span> <span style="color: #0000ff">make</span><span style="color: #ff0000">(</span><span style="color: #ff0000">chan</span> <span style="color: #ff0000">string</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">mootube</span> <span style="color: #ff0000">:=</span> <span style="color: #0000ff">make</span><span style="color: #ff0000">(</span><span style="color: #ff0000">chan</span> <span style="color: #0000ff">Moo</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">for</span> <span style="color: #0000ff">cownum</span> <span style="color: #ff0000">:=</span> <span class="mi">0</span><span style="color: #ff0000">;</span> <span style="color: #0000ff">cownum</span> <span style="color: #ff0000">&lt;</span> <span style="color: #0000ff">numcows</span><span style="color: #ff0000">;</span> <span style="color: #0000ff">cownum</span><span style="color: #ff0000">++</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">go</span> <span style="color: #0000ff">cow</span><span style="color: #ff0000">(</span><span style="color: #0000ff">cownum</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">mootube</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">go</span> <span style="color: #0000ff">farmer</span><span style="color: #ff0000">(</span><span style="color: #0000ff">numcows</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">mootube</span><span style="color: #ff0000">,</span> <span style="color: #0000ff">farmertube</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">farmerSaid</span> <span style="color: #ff0000">:=</span> <span style="color: #ff0000">&lt;-</span><span style="color: #0000ff">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">if</span> <span style="color: #0000ff">farmerSaid</span> <span style="color: #ff0000">==</span> <span class="s">&#34;yey!&#34;</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;All cows are happy.&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">func</span> <span style="color: #0000ff">main</span><span style="color: #ff0000">()</span> <span style="color: #ff0000">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">runFarm</span><span style="color: #ff0000">(</span><span class="mi">4</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">fmt</span><span style="color: #ff0000">.</span><span style="color: #0000ff">Println</span><span style="color: #ff0000">(</span><span class="s">&#34;done&#34;</span><span style="color: #ff0000">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">}</span></span></span></code></pre></code><a name='paraiso-dark'><h2><a id='stylelink' href='paraiso-dark.html' alt='View only paraiso-dark'>paraiso-dark</a></h2></a><code><pre style="color: #e7e9db; background-color: #2f1e2e;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5bc4bf">package</span> <span style="color: #06b6ef">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5bc4bf">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #48b685">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #48b685">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #48b685">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #815ba4">type</span> <span style="color: #06b6ef">Moo</span> <span style="color: #815ba4">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">Cow</span>   <span style="color: #fec418">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">Sound</span> <span style="color: #fec418">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">Tube</span>  <span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #776e71">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #776e71"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">num</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">tube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">case</span> <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #06b6ef">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #815ba4">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #815ba4">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Duration</span><span class="p">(</span><span style="color: #06b6ef">rand</span><span class="p">.</span><span style="color: #06b6ef">Int31n</span><span class="p">(</span><span style="color: #f99b15">1000</span><span class="p">))</span> <span style="color: #5bc4bf">*</span> <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #776e71">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #776e71"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span> <span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">hungryCows</span> <span style="color: #5bc4bf">:=</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">hungryCows</span> <span class="p">&gt;</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #06b6ef">moo</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">if</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">hungryCows</span><span style="color: #5bc4bf">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #815ba4">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span><span class="p">,</span> <span style="color: #48b685">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #f99b15">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Tube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #815ba4">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #48b685">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #776e71">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #776e71"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">cownum</span> <span style="color: #5bc4bf">:=</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span> <span class="p">&lt;</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span><span style="color: #5bc4bf">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">go</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">cownum</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">go</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">if</span> <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #815ba4">func</span> <span style="color: #06b6ef">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #f99b15">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='paraiso-light'><h2><a id='stylelink' href='paraiso-light.html' alt='View only paraiso-light'>paraiso-light</a></h2></a><code><pre style="color: #2f1e2e; background-color: #e7e9db;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5bc4bf">package</span> <span style="color: #06b6ef">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #5bc4bf">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #48b685">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #48b685">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #48b685">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #815ba4">type</span> <span style="color: #06b6ef">Moo</span> <span style="color: #815ba4">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">Cow</span>   <span style="color: #fec418">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">Sound</span> <span style="color: #fec418">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">Tube</span>  <span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8d8687">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8d8687"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">num</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">tube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">case</span> <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #06b6ef">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #06b6ef">Moo</span><span class="p">{</span><span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #815ba4">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #815ba4">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">num</span><span class="p">,</span> <span style="color: #48b685">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Duration</span><span class="p">(</span><span style="color: #06b6ef">rand</span><span class="p">.</span><span style="color: #06b6ef">Int31n</span><span class="p">(</span><span style="color: #f99b15">1000</span><span class="p">))</span> <span style="color: #5bc4bf">*</span> <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8d8687">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8d8687"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span> <span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span> <span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">hungryCows</span> <span style="color: #5bc4bf">:=</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">hungryCows</span> <span class="p">&gt;</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #06b6ef">moo</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">if</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">hungryCows</span><span style="color: #5bc4bf">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #815ba4">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Sound</span><span class="p">,</span> <span style="color: #48b685">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">time</span><span class="p">.</span><span style="color: #06b6ef">Sleep</span><span class="p">(</span><span style="color: #f99b15">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #06b6ef">moo</span><span class="p">.</span><span style="color: #06b6ef">Tube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #815ba4">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">&lt;-</span> <span style="color: #48b685">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8d8687">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8d8687"></span><span style="color: #815ba4">func</span> <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #06b6ef">numcows</span> <span style="color: #fec418">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">farmertube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #fec418">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">mootube</span> <span style="color: #5bc4bf">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #815ba4">chan</span> <span style="color: #06b6ef">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">for</span> <span style="color: #06b6ef">cownum</span> <span style="color: #5bc4bf">:=</span> <span style="color: #f99b15">0</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span> <span class="p">&lt;</span> <span style="color: #06b6ef">numcows</span><span class="p">;</span> <span style="color: #06b6ef">cownum</span><span style="color: #5bc4bf">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #815ba4">go</span> <span style="color: #06b6ef">cow</span><span class="p">(</span><span style="color: #06b6ef">cownum</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">go</span> <span style="color: #06b6ef">farmer</span><span class="p">(</span><span style="color: #06b6ef">numcows</span><span class="p">,</span> <span style="color: #06b6ef">mootube</span><span class="p">,</span> <span style="color: #06b6ef">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">:=</span> <span style="color: #5bc4bf">&lt;-</span><span style="color: #06b6ef">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #815ba4">if</span> <span style="color: #06b6ef">farmerSaid</span> <span style="color: #5bc4bf">==</span> <span style="color: #48b685">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #815ba4">func</span> <span style="color: #06b6ef">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">runFarm</span><span class="p">(</span><span style="color: #f99b15">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #06b6ef">fmt</span><span class="p">.</span><span style="color: #06b6ef">Println</span><span class="p">(</span><span style="color: #48b685">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='pastie'><h2><a id='stylelink' href='pastie.html' alt='View only pastie'>pastie</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #dd2200; background-color: #fff0f0">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #dd2200; background-color: #fff0f0">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #dd2200; background-color: #fff0f0">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #008800; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #888888; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #888888; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #888888; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #003388">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #008800; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #008800; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #888888; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #008800; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #008800; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #888888">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #888888"></span><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #888888; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #003388">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span style="color: #888888; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #003388">make</span><span class="p">(</span><span style="color: #008800; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #0000dd; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">go</span> <span style="color: #0066bb; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008800; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #dd2200; background-color: #fff0f0">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008800; font-weight: bold">func</span> <span style="color: #0066bb; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0066bb; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #0000dd; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0066bb; font-weight: bold">Println</span><span class="p">(</span><span style="color: #dd2200; background-color: #fff0f0">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='perldoc'><h2><a id='stylelink' href='perldoc.html' alt='View only perldoc'>perldoc</a></h2></a><code><pre style="background-color: #eeeedd;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b008b; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b008b; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cd5555">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cd5555">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cd5555">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b008b; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #8b008b; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #00688b; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #00688b; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228b22">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #228b22"></span><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00688b; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8b008b; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #658b00">make</span><span class="p">(</span><span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8b008b; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8b008b; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8b008b; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #8b008b; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #8b008b; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8b008b; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd5555">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #008b45">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #008b45">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #008b45">Int31n</span><span class="p">(</span><span style="color: #b452cd">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228b22">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #228b22"></span><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00688b; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #8b008b; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8b008b; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #b452cd">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8b008b; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #cd5555">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #8b008b; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #cd5555">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #008b45">Sleep</span><span class="p">(</span><span style="color: #b452cd">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #8b008b; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #cd5555">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #228b22">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #228b22"></span><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00688b; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #658b00">make</span><span class="p">(</span><span style="color: #8b008b; font-weight: bold">chan</span> <span style="color: #00688b; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #658b00">make</span><span class="p">(</span><span style="color: #8b008b; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8b008b; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #b452cd">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #8b008b; font-weight: bold">go</span> <span style="color: #008b45">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8b008b; font-weight: bold">go</span> <span style="color: #008b45">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #8b008b; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #cd5555">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8b008b; font-weight: bold">func</span> <span style="color: #008b45">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008b45">runFarm</span><span class="p">(</span><span style="color: #b452cd">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #008b45">Println</span><span class="p">(</span><span style="color: #cd5555">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='pygments'><h2><a id='stylelink' href='pygments.html' alt='View only pygments'>pygments</a></h2></a><code><pre style=";" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ba2121">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ba2121">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ba2121">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #008000; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #b00040">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #b00040">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #408080; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #408080; font-style: italic"></span><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #b00040">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #666666">:=</span> <span style="color: #008000">make</span><span class="p">(</span><span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008000; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008000; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008000; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #666666">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #666666">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #008000; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #008000; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008000; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #ba2121">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0000ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0000ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0000ff">Int31n</span><span class="p">(</span><span style="color: #666666">1000</span><span class="p">))</span> <span style="color: #666666">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #408080; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #408080; font-style: italic"></span><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #b00040">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #008000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008000; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #666666">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008000; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #666666">==</span> <span style="color: #ba2121">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #666666">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #008000; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #ba2121">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0000ff">Sleep</span><span class="p">(</span><span style="color: #666666">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #666666">&lt;-</span> <span style="color: #008000; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">&lt;-</span> <span style="color: #ba2121">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #408080; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #408080; font-style: italic"></span><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #b00040">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #666666">:=</span> <span style="color: #008000">make</span><span class="p">(</span><span style="color: #008000; font-weight: bold">chan</span> <span style="color: #b00040">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #666666">:=</span> <span style="color: #008000">make</span><span class="p">(</span><span style="color: #008000; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008000; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #666666">:=</span> <span style="color: #666666">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #666666">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #008000; font-weight: bold">go</span> <span style="color: #0000ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008000; font-weight: bold">go</span> <span style="color: #0000ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #666666">:=</span> <span style="color: #666666">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #008000; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #666666">==</span> <span style="color: #ba2121">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000; font-weight: bold">func</span> <span style="color: #0000ff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">runFarm</span><span class="p">(</span><span style="color: #666666">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0000ff">Println</span><span class="p">(</span><span style="color: #ba2121">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='rainbow_dash'><h2><a id='stylelink' href='rainbow_dash.html' alt='View only rainbow_dash'>rainbow_dash</a></h2></a><code><pre style="color: #4d4d4d; background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2c5dcd; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2c5dcd; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00cc66">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00cc66">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00cc66">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2c5dcd; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #2c5dcd; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #5918bb; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #5918bb; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0080ff; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #0080ff; font-style: italic"></span><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #5918bb; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #2c5dcd; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">make</span><span class="p">(</span><span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2c5dcd; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2c5dcd; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2c5dcd; font-weight: bold">case</span> <span class="nx">mootube</span> <span style="color: #2c5dcd">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #2c5dcd">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #2c5dcd">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #2c5dcd; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #2c5dcd; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2c5dcd; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00cc66">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #5918bb; font-weight: bold">1000</span><span class="p">))</span> <span style="color: #2c5dcd">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0080ff; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #0080ff; font-style: italic"></span><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #5918bb; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #2c5dcd; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2c5dcd; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="color: #2c5dcd">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #5918bb; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #2c5dcd">:=</span> <span style="color: #2c5dcd">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2c5dcd; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #2c5dcd">==</span> <span style="color: #00cc66">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #2c5dcd">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #2c5dcd; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00cc66">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #5918bb; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #2c5dcd">&lt;-</span> <span style="color: #2c5dcd; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #2c5dcd">&lt;-</span> <span style="color: #00cc66">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0080ff; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #0080ff; font-style: italic"></span><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #5918bb; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">make</span><span class="p">(</span><span style="color: #2c5dcd; font-weight: bold">chan</span> <span style="color: #5918bb; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">make</span><span class="p">(</span><span style="color: #2c5dcd; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2c5dcd; font-weight: bold">for</span> <span class="nx">cownum</span> <span style="color: #2c5dcd">:=</span> <span style="color: #5918bb; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #2c5dcd">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #2c5dcd; font-weight: bold">go</span> <span style="color: #ff8000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2c5dcd; font-weight: bold">go</span> <span style="color: #ff8000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #2c5dcd">:=</span> <span style="color: #2c5dcd">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2c5dcd; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="color: #2c5dcd">==</span> <span style="color: #00cc66">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #2c5dcd; font-weight: bold">func</span> <span style="color: #ff8000; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff8000; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #5918bb; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ff8000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #00cc66">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='rose-pine-dawn'><h2><a id='stylelink' href='rose-pine-dawn.html' alt='View only rose-pine-dawn'>rose-pine-dawn</a></h2></a><code><pre style="color: #575279; background-color: #faf4ed;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #907aa9">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #907aa9">import</span> <span style="color: #797593">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ea9d34">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ea9d34">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ea9d34">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #286983">type</span> <span class="nx">Moo</span> <span style="color: #286983">struct</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #286983">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #286983">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #286983">chan</span> <span style="color: #286983">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #9893a5">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #9893a5"></span><span style="color: #286983">func</span> <span style="color: #d7827e">cow</span><span style="color: #797593">(</span><span class="nx">num</span> <span style="color: #286983">int</span><span style="color: #797593">,</span> <span class="nx">mootube</span> <span style="color: #286983">chan</span> <span class="nx">Moo</span><span style="color: #797593">)</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #797593">:=</span> <span style="color: #d7827e">make</span><span style="color: #797593">(</span><span style="color: #286983">chan</span> <span style="color: #286983">bool</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #286983">for</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #286983">select</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #286983">case</span> <span class="nx">mootube</span> <span style="color: #797593">&lt;-</span> <span class="nx">Moo</span><span style="color: #797593">{</span><span class="nx">num</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;moo&#34;</span><span style="color: #797593">,</span> <span class="nx">tube</span><span style="color: #797593">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">num</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;mooed through the mootube&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #797593">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">num</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;is being fed and stops mooing&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #797593">&lt;-</span> <span class="nx">Moo</span><span style="color: #797593">{</span><span class="nx">num</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;mooh&#34;</span><span style="color: #797593">,</span> <span style="color: #286983">nil</span><span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">num</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;moos one last time out of happyness&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #286983">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #286983">default</span><span style="color: #797593">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">num</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #797593">.</span><span style="color: #d7827e">Sleep</span><span style="color: #797593">(</span><span class="nx">time</span><span style="color: #797593">.</span><span style="color: #d7827e">Duration</span><span style="color: #797593">(</span><span class="nx">rand</span><span style="color: #797593">.</span><span style="color: #d7827e">Int31n</span><span style="color: #797593">(</span><span style="color: #ea9d34">1000</span><span style="color: #797593">))</span> <span style="color: #797593">*</span> <span class="nx">time</span><span style="color: #797593">.</span><span class="nx">Millisecond</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #9893a5">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #9893a5"></span><span style="color: #286983">func</span> <span style="color: #d7827e">farmer</span><span style="color: #797593">(</span><span class="nx">numcows</span> <span style="color: #286983">int</span><span style="color: #797593">,</span> <span class="nx">mootube</span> <span style="color: #286983">chan</span> <span class="nx">Moo</span><span style="color: #797593">,</span> <span class="nx">farmertube</span> <span style="color: #286983">chan</span> <span style="color: #286983">string</span><span style="color: #797593">)</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #286983">for</span> <span class="nx">hungryCows</span> <span style="color: #797593">:=</span> <span class="nx">numcows</span><span style="color: #797593">;</span> <span class="nx">hungryCows</span> <span style="color: #797593">&gt;</span> <span style="color: #ea9d34">0</span><span style="color: #797593">;</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #797593">:=</span> <span style="color: #797593">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #286983">if</span> <span class="nx">moo</span><span style="color: #797593">.</span><span class="nx">Sound</span> <span style="color: #797593">==</span> <span style="color: #ea9d34">&#34;mooh&#34;</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">moo</span><span style="color: #797593">.</span><span class="nx">Cow</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #797593">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #797593">}</span> <span style="color: #286983">else</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Farmer heard a&#34;</span><span style="color: #797593">,</span> <span class="nx">moo</span><span style="color: #797593">.</span><span class="nx">Sound</span><span style="color: #797593">,</span> <span style="color: #ea9d34">&#34;from cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">moo</span><span style="color: #797593">.</span><span class="nx">Cow</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #797593">.</span><span style="color: #d7827e">Sleep</span><span style="color: #797593">(</span><span style="color: #ea9d34">2e9</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #797593">,</span> <span class="nx">moo</span><span style="color: #797593">.</span><span class="nx">Cow</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #797593">.</span><span class="nx">Tube</span> <span style="color: #797593">&lt;-</span> <span style="color: #286983">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #797593">&lt;-</span> <span style="color: #ea9d34">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #9893a5">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #9893a5"></span><span style="color: #286983">func</span> <span style="color: #d7827e">runFarm</span><span style="color: #797593">(</span><span class="nx">numcows</span> <span style="color: #286983">int</span><span style="color: #797593">)</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #797593">:=</span> <span style="color: #d7827e">make</span><span style="color: #797593">(</span><span style="color: #286983">chan</span> <span style="color: #286983">string</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #797593">:=</span> <span style="color: #d7827e">make</span><span style="color: #797593">(</span><span style="color: #286983">chan</span> <span class="nx">Moo</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #286983">for</span> <span class="nx">cownum</span> <span style="color: #797593">:=</span> <span style="color: #ea9d34">0</span><span style="color: #797593">;</span> <span class="nx">cownum</span> <span style="color: #797593">&lt;</span> <span class="nx">numcows</span><span style="color: #797593">;</span> <span class="nx">cownum</span><span style="color: #797593">++</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #286983">go</span> <span style="color: #d7827e">cow</span><span style="color: #797593">(</span><span class="nx">cownum</span><span style="color: #797593">,</span> <span class="nx">mootube</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #286983">go</span> <span style="color: #d7827e">farmer</span><span style="color: #797593">(</span><span class="nx">numcows</span><span style="color: #797593">,</span> <span class="nx">mootube</span><span style="color: #797593">,</span> <span class="nx">farmertube</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #797593">:=</span> <span style="color: #797593">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #286983">if</span> <span class="nx">farmerSaid</span> <span style="color: #797593">==</span> <span style="color: #ea9d34">&#34;yey!&#34;</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;All cows are happy.&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #797593">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #286983">func</span> <span style="color: #d7827e">main</span><span style="color: #797593">()</span> <span style="color: #797593">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #d7827e">runFarm</span><span style="color: #797593">(</span><span style="color: #ea9d34">4</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #797593">.</span><span style="color: #d7827e">Println</span><span style="color: #797593">(</span><span style="color: #ea9d34">&#34;done&#34;</span><span style="color: #797593">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #797593">}</span></span></span></code></pre></code><a name='rose-pine-moon'><h2><a id='stylelink' href='rose-pine-moon.html' alt='View only rose-pine-moon'>rose-pine-moon</a></h2></a><code><pre style="color: #e0def4; background-color: #232136;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c4a7e7">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c4a7e7">import</span> <span style="color: #908caa">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f6c177">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f6c177">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f6c177">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #3e8fb0">type</span> <span class="nx">Moo</span> <span style="color: #3e8fb0">struct</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #3e8fb0">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #3e8fb0">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #3e8fb0">chan</span> <span style="color: #3e8fb0">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86"></span><span style="color: #3e8fb0">func</span> <span style="color: #ea9a97">cow</span><span style="color: #908caa">(</span><span class="nx">num</span> <span style="color: #3e8fb0">int</span><span style="color: #908caa">,</span> <span class="nx">mootube</span> <span style="color: #3e8fb0">chan</span> <span class="nx">Moo</span><span style="color: #908caa">)</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #908caa">:=</span> <span style="color: #ea9a97">make</span><span style="color: #908caa">(</span><span style="color: #3e8fb0">chan</span> <span style="color: #3e8fb0">bool</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #3e8fb0">for</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #3e8fb0">select</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #3e8fb0">case</span> <span class="nx">mootube</span> <span style="color: #908caa">&lt;-</span> <span class="nx">Moo</span><span style="color: #908caa">{</span><span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;moo&#34;</span><span style="color: #908caa">,</span> <span class="nx">tube</span><span style="color: #908caa">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;mooed through the mootube&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #908caa">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;is being fed and stops mooing&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #908caa">&lt;-</span> <span class="nx">Moo</span><span style="color: #908caa">{</span><span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;mooh&#34;</span><span style="color: #908caa">,</span> <span style="color: #3e8fb0">nil</span><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;moos one last time out of happyness&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #3e8fb0">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #3e8fb0">default</span><span style="color: #908caa">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Sleep</span><span style="color: #908caa">(</span><span class="nx">time</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Duration</span><span style="color: #908caa">(</span><span class="nx">rand</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Int31n</span><span style="color: #908caa">(</span><span style="color: #f6c177">1000</span><span style="color: #908caa">))</span> <span style="color: #908caa">*</span> <span class="nx">time</span><span style="color: #908caa">.</span><span class="nx">Millisecond</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86"></span><span style="color: #3e8fb0">func</span> <span style="color: #ea9a97">farmer</span><span style="color: #908caa">(</span><span class="nx">numcows</span> <span style="color: #3e8fb0">int</span><span style="color: #908caa">,</span> <span class="nx">mootube</span> <span style="color: #3e8fb0">chan</span> <span class="nx">Moo</span><span style="color: #908caa">,</span> <span class="nx">farmertube</span> <span style="color: #3e8fb0">chan</span> <span style="color: #3e8fb0">string</span><span style="color: #908caa">)</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #3e8fb0">for</span> <span class="nx">hungryCows</span> <span style="color: #908caa">:=</span> <span class="nx">numcows</span><span style="color: #908caa">;</span> <span class="nx">hungryCows</span> <span style="color: #908caa">&gt;</span> <span style="color: #f6c177">0</span><span style="color: #908caa">;</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #908caa">:=</span> <span style="color: #908caa">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #3e8fb0">if</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Sound</span> <span style="color: #908caa">==</span> <span style="color: #f6c177">&#34;mooh&#34;</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Cow</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #908caa">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #908caa">}</span> <span style="color: #3e8fb0">else</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer heard a&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Sound</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;from cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Cow</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Sleep</span><span style="color: #908caa">(</span><span style="color: #f6c177">2e9</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Cow</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Tube</span> <span style="color: #908caa">&lt;-</span> <span style="color: #3e8fb0">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #908caa">&lt;-</span> <span style="color: #f6c177">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86"></span><span style="color: #3e8fb0">func</span> <span style="color: #ea9a97">runFarm</span><span style="color: #908caa">(</span><span class="nx">numcows</span> <span style="color: #3e8fb0">int</span><span style="color: #908caa">)</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #908caa">:=</span> <span style="color: #ea9a97">make</span><span style="color: #908caa">(</span><span style="color: #3e8fb0">chan</span> <span style="color: #3e8fb0">string</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #908caa">:=</span> <span style="color: #ea9a97">make</span><span style="color: #908caa">(</span><span style="color: #3e8fb0">chan</span> <span class="nx">Moo</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #3e8fb0">for</span> <span class="nx">cownum</span> <span style="color: #908caa">:=</span> <span style="color: #f6c177">0</span><span style="color: #908caa">;</span> <span class="nx">cownum</span> <span style="color: #908caa">&lt;</span> <span class="nx">numcows</span><span style="color: #908caa">;</span> <span class="nx">cownum</span><span style="color: #908caa">++</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #3e8fb0">go</span> <span style="color: #ea9a97">cow</span><span style="color: #908caa">(</span><span class="nx">cownum</span><span style="color: #908caa">,</span> <span class="nx">mootube</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #3e8fb0">go</span> <span style="color: #ea9a97">farmer</span><span style="color: #908caa">(</span><span class="nx">numcows</span><span style="color: #908caa">,</span> <span class="nx">mootube</span><span style="color: #908caa">,</span> <span class="nx">farmertube</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #908caa">:=</span> <span style="color: #908caa">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #3e8fb0">if</span> <span class="nx">farmerSaid</span> <span style="color: #908caa">==</span> <span style="color: #f6c177">&#34;yey!&#34;</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;All cows are happy.&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #3e8fb0">func</span> <span style="color: #ea9a97">main</span><span style="color: #908caa">()</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ea9a97">runFarm</span><span style="color: #908caa">(</span><span style="color: #f6c177">4</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ea9a97">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;done&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span></span></span></code></pre></code><a name='rose-pine'><h2><a id='stylelink' href='rose-pine.html' alt='View only rose-pine'>rose-pine</a></h2></a><code><pre style="color: #e0def4; background-color: #191724;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c4a7e7">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c4a7e7">import</span> <span style="color: #908caa">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f6c177">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f6c177">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #f6c177">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #31748f">type</span> <span class="nx">Moo</span> <span style="color: #31748f">struct</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #31748f">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #31748f">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #31748f">chan</span> <span style="color: #31748f">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86"></span><span style="color: #31748f">func</span> <span style="color: #ebbcba">cow</span><span style="color: #908caa">(</span><span class="nx">num</span> <span style="color: #31748f">int</span><span style="color: #908caa">,</span> <span class="nx">mootube</span> <span style="color: #31748f">chan</span> <span class="nx">Moo</span><span style="color: #908caa">)</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #908caa">:=</span> <span style="color: #ebbcba">make</span><span style="color: #908caa">(</span><span style="color: #31748f">chan</span> <span style="color: #31748f">bool</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #31748f">for</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #31748f">select</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #31748f">case</span> <span class="nx">mootube</span> <span style="color: #908caa">&lt;-</span> <span class="nx">Moo</span><span style="color: #908caa">{</span><span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;moo&#34;</span><span style="color: #908caa">,</span> <span class="nx">tube</span><span style="color: #908caa">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;mooed through the mootube&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #908caa">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;is being fed and stops mooing&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #908caa">&lt;-</span> <span class="nx">Moo</span><span style="color: #908caa">{</span><span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;mooh&#34;</span><span style="color: #908caa">,</span> <span style="color: #31748f">nil</span><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;moos one last time out of happyness&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #31748f">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #31748f">default</span><span style="color: #908caa">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">num</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Sleep</span><span style="color: #908caa">(</span><span class="nx">time</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Duration</span><span style="color: #908caa">(</span><span class="nx">rand</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Int31n</span><span style="color: #908caa">(</span><span style="color: #f6c177">1000</span><span style="color: #908caa">))</span> <span style="color: #908caa">*</span> <span class="nx">time</span><span style="color: #908caa">.</span><span class="nx">Millisecond</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86"></span><span style="color: #31748f">func</span> <span style="color: #ebbcba">farmer</span><span style="color: #908caa">(</span><span class="nx">numcows</span> <span style="color: #31748f">int</span><span style="color: #908caa">,</span> <span class="nx">mootube</span> <span style="color: #31748f">chan</span> <span class="nx">Moo</span><span style="color: #908caa">,</span> <span class="nx">farmertube</span> <span style="color: #31748f">chan</span> <span style="color: #31748f">string</span><span style="color: #908caa">)</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #31748f">for</span> <span class="nx">hungryCows</span> <span style="color: #908caa">:=</span> <span class="nx">numcows</span><span style="color: #908caa">;</span> <span class="nx">hungryCows</span> <span style="color: #908caa">&gt;</span> <span style="color: #f6c177">0</span><span style="color: #908caa">;</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #908caa">:=</span> <span style="color: #908caa">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #31748f">if</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Sound</span> <span style="color: #908caa">==</span> <span style="color: #f6c177">&#34;mooh&#34;</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Cow</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #908caa">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #908caa">}</span> <span style="color: #31748f">else</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer heard a&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Sound</span><span style="color: #908caa">,</span> <span style="color: #f6c177">&#34;from cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Cow</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Sleep</span><span style="color: #908caa">(</span><span style="color: #f6c177">2e9</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #908caa">,</span> <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Cow</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span style="color: #908caa">.</span><span class="nx">Tube</span> <span style="color: #908caa">&lt;-</span> <span style="color: #31748f">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #908caa">&lt;-</span> <span style="color: #f6c177">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6e6a86"></span><span style="color: #31748f">func</span> <span style="color: #ebbcba">runFarm</span><span style="color: #908caa">(</span><span class="nx">numcows</span> <span style="color: #31748f">int</span><span style="color: #908caa">)</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #908caa">:=</span> <span style="color: #ebbcba">make</span><span style="color: #908caa">(</span><span style="color: #31748f">chan</span> <span style="color: #31748f">string</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #908caa">:=</span> <span style="color: #ebbcba">make</span><span style="color: #908caa">(</span><span style="color: #31748f">chan</span> <span class="nx">Moo</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #31748f">for</span> <span class="nx">cownum</span> <span style="color: #908caa">:=</span> <span style="color: #f6c177">0</span><span style="color: #908caa">;</span> <span class="nx">cownum</span> <span style="color: #908caa">&lt;</span> <span class="nx">numcows</span><span style="color: #908caa">;</span> <span class="nx">cownum</span><span style="color: #908caa">++</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #31748f">go</span> <span style="color: #ebbcba">cow</span><span style="color: #908caa">(</span><span class="nx">cownum</span><span style="color: #908caa">,</span> <span class="nx">mootube</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #31748f">go</span> <span style="color: #ebbcba">farmer</span><span style="color: #908caa">(</span><span class="nx">numcows</span><span style="color: #908caa">,</span> <span class="nx">mootube</span><span style="color: #908caa">,</span> <span class="nx">farmertube</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #908caa">:=</span> <span style="color: #908caa">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #31748f">if</span> <span class="nx">farmerSaid</span> <span style="color: #908caa">==</span> <span style="color: #f6c177">&#34;yey!&#34;</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;All cows are happy.&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #31748f">func</span> <span style="color: #ebbcba">main</span><span style="color: #908caa">()</span> <span style="color: #908caa">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ebbcba">runFarm</span><span style="color: #908caa">(</span><span style="color: #f6c177">4</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span style="color: #908caa">.</span><span style="color: #ebbcba">Println</span><span style="color: #908caa">(</span><span style="color: #f6c177">&#34;done&#34;</span><span style="color: #908caa">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #908caa">}</span></span></span></code></pre></code><a name='rrt'><h2><a id='stylelink' href='rrt.html' alt='View only rrt'>rrt</a></h2></a><code><pre style="color: #f8f8f2; background-color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #87ceeb">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #87ceeb">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #87ceeb">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">type</span> <span class="nx">Moo</span> <span style="color: #ff0000">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #ee82ee">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #ee82ee">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #ff0000">chan</span> <span style="color: #ee82ee">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00ff00">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #00ff00"></span><span style="color: #ff0000">func</span> <span style="color: #ffff00">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #ee82ee">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff0000">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff0000">chan</span> <span style="color: #ee82ee">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ff0000">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ff0000">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #87ceeb">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ffff00">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ffff00">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ffff00">Int31n</span><span class="p">(</span><span style="color: #ff6600">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00ff00">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #00ff00"></span><span style="color: #ff0000">func</span> <span style="color: #ffff00">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ee82ee">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ff0000">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ff0000">chan</span> <span style="color: #ee82ee">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #87ceeb">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ff0000">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #87ceeb">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ffff00">Sleep</span><span class="p">(</span><span style="color: #ff6600">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #ff0000">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #87ceeb">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00ff00">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #00ff00"></span><span style="color: #ff0000">func</span> <span style="color: #ffff00">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ee82ee">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff0000">chan</span> <span style="color: #ee82ee">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #ff0000">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #ff6600">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ff0000">go</span> <span style="color: #ffff00">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">go</span> <span style="color: #ffff00">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ff0000">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #87ceeb">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ff0000">func</span> <span style="color: #ffff00">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffff00">runFarm</span><span class="p">(</span><span style="color: #ff6600">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ffff00">Println</span><span class="p">(</span><span style="color: #87ceeb">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='solarized-dark'><h2><a id='stylelink' href='solarized-dark.html' alt='View only solarized-dark'>solarized-dark</a></h2></a><code><pre style="color: #93a1a1; background-color: #002b36;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #719e07">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #719e07">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2aa198">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2aa198">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2aa198">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #268bd2">type</span> <span class="nx">Moo</span> <span style="color: #268bd2">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #dc322f">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #dc322f">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #268bd2">chan</span> <span style="color: #dc322f">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #586e75">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #586e75"></span><span style="color: #268bd2">func</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #dc322f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #268bd2">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #719e07">:=</span> <span style="color: #b58900">make</span><span class="p">(</span><span style="color: #268bd2">chan</span> <span style="color: #dc322f">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #719e07">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #719e07">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #719e07">case</span> <span class="nx">mootube</span> <span style="color: #719e07">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #719e07">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #719e07">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #cb4b16">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #719e07">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #719e07">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #268bd2">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #268bd2">Int31n</span><span class="p">(</span><span style="color: #2aa198">1000</span><span class="p">))</span> <span style="color: #719e07">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #586e75">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #586e75"></span><span style="color: #268bd2">func</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #dc322f">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #268bd2">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #268bd2">chan</span> <span style="color: #dc322f">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #719e07">for</span> <span class="nx">hungryCows</span> <span style="color: #719e07">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #2aa198">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #719e07">:=</span> <span style="color: #719e07">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #719e07">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #719e07">==</span> <span style="color: #2aa198">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #719e07">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #719e07">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #2aa198">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span style="color: #2aa198">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #719e07">&lt;-</span> <span style="color: #cb4b16">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #719e07">&lt;-</span> <span style="color: #2aa198">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #586e75">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #586e75"></span><span style="color: #268bd2">func</span> <span style="color: #268bd2">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #dc322f">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #719e07">:=</span> <span style="color: #b58900">make</span><span class="p">(</span><span style="color: #268bd2">chan</span> <span style="color: #dc322f">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #719e07">:=</span> <span style="color: #b58900">make</span><span class="p">(</span><span style="color: #268bd2">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #719e07">for</span> <span class="nx">cownum</span> <span style="color: #719e07">:=</span> <span style="color: #2aa198">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #719e07">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #719e07">go</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #719e07">go</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #719e07">:=</span> <span style="color: #719e07">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #719e07">if</span> <span class="nx">farmerSaid</span> <span style="color: #719e07">==</span> <span style="color: #2aa198">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #268bd2">func</span> <span style="color: #268bd2">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">runFarm</span><span class="p">(</span><span style="color: #2aa198">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='solarized-dark256'><h2><a id='stylelink' href='solarized-dark256.html' alt='View only solarized-dark256'>solarized-dark256</a></h2></a><code><pre style="color: #8a8a8a; background-color: #1c1c1c;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #d75f00">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #d75f00">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00afaf">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00afaf">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00afaf">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0087ff">type</span> <span class="nx">Moo</span> <span style="color: #0087ff">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #af0000">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #af0000">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #0087ff">chan</span> <span style="color: #af0000">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4e4e4e">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #4e4e4e"></span><span style="color: #0087ff">func</span> <span style="color: #0087ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #af0000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0087ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #0087ff">make</span><span class="p">(</span><span style="color: #0087ff">chan</span> <span style="color: #af0000">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5f8700">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5f8700">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5f8700">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #d75f00">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #5f8700">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5f8700">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00afaf">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0087ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #0087ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #0087ff">Int31n</span><span class="p">(</span><span style="color: #00afaf">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4e4e4e">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #4e4e4e"></span><span style="color: #0087ff">func</span> <span style="color: #0087ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #af0000">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0087ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0087ff">chan</span> <span style="color: #af0000">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5f8700">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #00afaf">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5f8700">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #00afaf">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #5f8700">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00afaf">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #0087ff">Sleep</span><span class="p">(</span><span style="color: #00afaf">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #d75f00">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #00afaf">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #4e4e4e">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #4e4e4e"></span><span style="color: #0087ff">func</span> <span style="color: #0087ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #af0000">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #0087ff">make</span><span class="p">(</span><span style="color: #0087ff">chan</span> <span style="color: #af0000">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #0087ff">make</span><span class="p">(</span><span style="color: #0087ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5f8700">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #00afaf">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #5f8700">go</span> <span style="color: #0087ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5f8700">go</span> <span style="color: #0087ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #5f8700">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #00afaf">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0087ff">func</span> <span style="color: #0087ff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0087ff">runFarm</span><span class="p">(</span><span style="color: #00afaf">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #0087ff">Println</span><span class="p">(</span><span style="color: #00afaf">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='solarized-light'><h2><a id='stylelink' href='solarized-light.html' alt='View only solarized-light'>solarized-light</a></h2></a><code><pre style="color: #586e75; background-color: #eee8d5;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #dc322f; font-weight: bold">package</span> <span style="color: #268bd2">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #dc322f; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2aa198">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2aa198">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #2aa198">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #859900">type</span> <span style="color: #268bd2">Moo</span> <span style="color: #859900">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">Cow</span>   <span style="color: #859900; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">Sound</span> <span style="color: #859900; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">Tube</span>  <span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #93a1a1; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #93a1a1; font-style: italic"></span><span style="color: #859900">func</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span style="color: #268bd2">num</span> <span style="color: #859900; font-weight: bold">int</span><span class="p">,</span> <span style="color: #268bd2">mootube</span> <span style="color: #859900">chan</span> <span style="color: #268bd2">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">tube</span> <span class="o">:=</span> <span style="color: #cb4b16">make</span><span class="p">(</span><span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #859900">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #859900">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #859900">case</span> <span style="color: #268bd2">mootube</span> <span class="o">&lt;-</span> <span style="color: #268bd2">Moo</span><span class="p">{</span><span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #268bd2">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span style="color: #268bd2">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">mootube</span> <span class="o">&lt;-</span> <span style="color: #268bd2">Moo</span><span class="p">{</span><span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #859900; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #859900">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #859900">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">num</span><span class="p">,</span> <span style="color: #2aa198">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Duration</span><span class="p">(</span><span style="color: #268bd2">rand</span><span class="p">.</span><span style="color: #268bd2">Int31n</span><span class="p">(</span><span style="color: #2aa198; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #93a1a1; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #93a1a1; font-style: italic"></span><span style="color: #859900">func</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span style="color: #268bd2">numcows</span> <span style="color: #859900; font-weight: bold">int</span><span class="p">,</span> <span style="color: #268bd2">mootube</span> <span style="color: #859900">chan</span> <span style="color: #268bd2">Moo</span><span class="p">,</span> <span style="color: #268bd2">farmertube</span> <span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #859900">for</span> <span style="color: #268bd2">hungryCows</span> <span class="o">:=</span> <span style="color: #268bd2">numcows</span><span class="p">;</span> <span style="color: #268bd2">hungryCows</span> <span class="p">&gt;</span> <span style="color: #2aa198; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #268bd2">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #268bd2">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #859900">if</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Sound</span> <span class="o">==</span> <span style="color: #2aa198">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #859900">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Sound</span><span class="p">,</span> <span style="color: #2aa198">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">time</span><span class="p">.</span><span style="color: #268bd2">Sleep</span><span class="p">(</span><span style="color: #2aa198; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #268bd2">moo</span><span class="p">.</span><span style="color: #268bd2">Tube</span> <span class="o">&lt;-</span> <span style="color: #859900; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">farmertube</span> <span class="o">&lt;-</span> <span style="color: #2aa198">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #93a1a1; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #93a1a1; font-style: italic"></span><span style="color: #859900">func</span> <span style="color: #268bd2">runFarm</span><span class="p">(</span><span style="color: #268bd2">numcows</span> <span style="color: #859900; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">farmertube</span> <span class="o">:=</span> <span style="color: #cb4b16">make</span><span class="p">(</span><span style="color: #859900">chan</span> <span style="color: #859900; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">mootube</span> <span class="o">:=</span> <span style="color: #cb4b16">make</span><span class="p">(</span><span style="color: #859900">chan</span> <span style="color: #268bd2">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #859900">for</span> <span style="color: #268bd2">cownum</span> <span class="o">:=</span> <span style="color: #2aa198; font-weight: bold">0</span><span class="p">;</span> <span style="color: #268bd2">cownum</span> <span class="p">&lt;</span> <span style="color: #268bd2">numcows</span><span class="p">;</span> <span style="color: #268bd2">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #859900">go</span> <span style="color: #268bd2">cow</span><span class="p">(</span><span style="color: #268bd2">cownum</span><span class="p">,</span> <span style="color: #268bd2">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #859900">go</span> <span style="color: #268bd2">farmer</span><span class="p">(</span><span style="color: #268bd2">numcows</span><span class="p">,</span> <span style="color: #268bd2">mootube</span><span class="p">,</span> <span style="color: #268bd2">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span style="color: #268bd2">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #859900">if</span> <span style="color: #268bd2">farmerSaid</span> <span class="o">==</span> <span style="color: #2aa198">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #859900">func</span> <span style="color: #268bd2">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">runFarm</span><span class="p">(</span><span style="color: #2aa198; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #268bd2">fmt</span><span class="p">.</span><span style="color: #268bd2">Println</span><span class="p">(</span><span style="color: #2aa198">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='swapoff'><h2><a id='stylelink' href='swapoff.html' alt='View only swapoff'>swapoff</a></h2></a><code><pre style="color: #e5e5e5; background-color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ffffff; font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ffffff; font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00ffff; font-weight: bold">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00ffff; font-weight: bold">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #00ffff; font-weight: bold">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ffffff; font-weight: bold">type</span> <span class="nx">Moo</span> <span style="color: #ffffff; font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #ffffff; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #ffffff; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007f7f">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff; font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff; font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff; font-weight: bold">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #ffffff; font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffffff; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff; font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007f7f">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff; font-weight: bold">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #ffff00; font-weight: bold">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff; font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #00ffff; font-weight: bold">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #ffffff; font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #00ffff; font-weight: bold">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #ffffff; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #00ffff; font-weight: bold">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #007f7f">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #007f7f"></span><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #ffffff; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span style="color: #ffffff; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #ffffff; font-weight: bold">make</span><span class="p">(</span><span style="color: #ffffff; font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff; font-weight: bold">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #ffff00; font-weight: bold">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #ffffff; font-weight: bold">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff; font-weight: bold">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ffffff; font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #00ffff; font-weight: bold">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ffffff; font-weight: bold">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #ffff00; font-weight: bold">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #00ffff; font-weight: bold">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='tango'><h2><a id='stylelink' href='tango.html' alt='View only tango'>tango</a></h2></a><code><pre style="background-color: #f8f8f8;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #204a87; font-weight: bold">package</span> <span style="color: #000000">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #204a87; font-weight: bold">import</span> <span style="color: #000000; font-weight: bold">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4e9a06">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4e9a06">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #4e9a06">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #204a87; font-weight: bold">type</span> <span style="color: #000000">Moo</span> <span style="color: #204a87; font-weight: bold">struct</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Cow</span>   <span style="color: #204a87; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Sound</span> <span style="color: #204a87; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Tube</span>  <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8f5902; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8f5902; font-style: italic"></span><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">cow</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">num</span> <span style="color: #204a87; font-weight: bold">int</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span> <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">tube</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">make</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">bool</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #204a87; font-weight: bold">select</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #204a87; font-weight: bold">case</span> <span style="color: #000000">mootube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">{</span><span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;moo&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">tube</span><span style="color: #000000; font-weight: bold">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;mooed through the mootube&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ce5c00; font-weight: bold">&lt;-</span><span style="color: #000000">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;is being fed and stops mooing&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">mootube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">{</span><span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;mooh&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #204a87; font-weight: bold">nil</span><span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;moos one last time out of happyness&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #204a87; font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #204a87; font-weight: bold">default</span><span style="color: #000000; font-weight: bold">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">num</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sleep</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Duration</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">rand</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Int31n</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">1000</span><span style="color: #000000; font-weight: bold">))</span> <span style="color: #ce5c00; font-weight: bold">*</span> <span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Millisecond</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8f5902; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8f5902; font-style: italic"></span><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">farmer</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">numcows</span> <span style="color: #204a87; font-weight: bold">int</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span> <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">farmertube</span> <span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000">hungryCows</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #000000">numcows</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">hungryCows</span> <span style="color: #000000; font-weight: bold">&gt;</span> <span style="color: #0000cf; font-weight: bold">0</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000">moo</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span><span style="color: #000000">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sound</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #4e9a06">&#34;mooh&#34;</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Cow</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">hungryCows</span><span style="color: #ce5c00; font-weight: bold">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">}</span> <span style="color: #204a87; font-weight: bold">else</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer heard a&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sound</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #4e9a06">&#34;from cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Cow</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">time</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Sleep</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">2e9</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Cow</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">moo</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Tube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #204a87; font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmertube</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span> <span style="color: #4e9a06">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #8f5902; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #8f5902; font-style: italic"></span><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">runFarm</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">numcows</span> <span style="color: #204a87; font-weight: bold">int</span><span style="color: #000000; font-weight: bold">)</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmertube</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">make</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #204a87; font-weight: bold">string</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">mootube</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #204a87">make</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #204a87; font-weight: bold">chan</span> <span style="color: #000000">Moo</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #204a87; font-weight: bold">for</span> <span style="color: #000000">cownum</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #0000cf; font-weight: bold">0</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">cownum</span> <span style="color: #000000; font-weight: bold">&lt;</span> <span style="color: #000000">numcows</span><span style="color: #000000; font-weight: bold">;</span> <span style="color: #000000">cownum</span><span style="color: #ce5c00; font-weight: bold">++</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #204a87; font-weight: bold">go</span> <span style="color: #000000">cow</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">cownum</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #204a87; font-weight: bold">go</span> <span style="color: #000000">farmer</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #000000">numcows</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">mootube</span><span style="color: #000000; font-weight: bold">,</span> <span style="color: #000000">farmertube</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmerSaid</span> <span style="color: #ce5c00; font-weight: bold">:=</span> <span style="color: #ce5c00; font-weight: bold">&lt;-</span><span style="color: #000000">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #204a87; font-weight: bold">if</span> <span style="color: #000000">farmerSaid</span> <span style="color: #ce5c00; font-weight: bold">==</span> <span style="color: #4e9a06">&#34;yey!&#34;</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;All cows are happy.&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #204a87; font-weight: bold">func</span> <span style="color: #000000">main</span><span style="color: #000000; font-weight: bold">()</span> <span style="color: #000000; font-weight: bold">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">runFarm</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #0000cf; font-weight: bold">4</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span style="color: #000000; font-weight: bold">.</span><span style="color: #000000">Println</span><span style="color: #000000; font-weight: bold">(</span><span style="color: #4e9a06">&#34;done&#34;</span><span style="color: #000000; font-weight: bold">)</span>
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000000; font-weight: bold">}</span></span></span></code></pre></code><a name='trac'><h2><a id='stylelink' href='trac.html' alt='View only trac'>trac</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #bb8844">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #bb8844">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #bb8844">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">type</span> <span class="nx">Moo</span> <span style="font-weight: bold">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #445588; font-weight: bold">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #445588; font-weight: bold">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic"></span><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="font-weight: bold">:=</span> <span style="color: #999999">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">case</span> <span class="nx">mootube</span> <span style="font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="font-weight: bold">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="font-weight: bold">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;mooh&#34;</span><span class="p">,</span> <span style="font-weight: bold">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="font-weight: bold">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #bb8844">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Int31n</span><span class="p">(</span><span style="color: #009999">1000</span><span class="p">))</span> <span style="font-weight: bold">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic"></span><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="nx">hungryCows</span> <span style="font-weight: bold">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="font-weight: bold">:=</span> <span style="font-weight: bold">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="font-weight: bold">==</span> <span style="color: #bb8844">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="font-weight: bold">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="font-weight: bold">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #bb8844">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Sleep</span><span class="p">(</span><span style="color: #009999">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="font-weight: bold">&lt;-</span> <span style="font-weight: bold">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="font-weight: bold">&lt;-</span> <span style="color: #bb8844">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #999988; font-style: italic"></span><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #445588; font-weight: bold">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="font-weight: bold">:=</span> <span style="color: #999999">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span style="color: #445588; font-weight: bold">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="font-weight: bold">:=</span> <span style="color: #999999">make</span><span class="p">(</span><span style="font-weight: bold">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">for</span> <span class="nx">cownum</span> <span style="font-weight: bold">:=</span> <span style="color: #009999">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="font-weight: bold">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">go</span> <span style="color: #990000; font-weight: bold">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="font-weight: bold">:=</span> <span style="font-weight: bold">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="font-weight: bold">if</span> <span class="nx">farmerSaid</span> <span style="font-weight: bold">==</span> <span style="color: #bb8844">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="font-weight: bold">func</span> <span style="color: #990000; font-weight: bold">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #990000; font-weight: bold">runFarm</span><span class="p">(</span><span style="color: #009999">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #990000; font-weight: bold">Println</span><span class="p">(</span><span style="color: #bb8844">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='vim'><h2><a id='stylelink' href='vim.html' alt='View only vim'>vim</a></h2></a><code><pre style="color: #cccccc; background-color: #000000;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cd00cd">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #cd00cd">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cd0000">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cd0000">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cd0000">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00cd00">type</span> <span class="nx">Moo</span> <span style="color: #00cd00">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #00cd00">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #00cd00">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #00cd00">chan</span> <span style="color: #00cd00">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #000080"></span><span style="color: #00cd00">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #00cd00">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #00cd00">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">make</span><span class="p">(</span><span style="color: #00cd00">chan</span> <span style="color: #00cd00">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdcd00">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdcd00">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdcd00">case</span> <span class="nx">mootube</span> <span style="color: #3399cc">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #3399cc">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #3399cc">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #cdcd00">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #cdcd00">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdcd00">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #cd0000">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span style="color: #cd00cd">1000</span><span class="p">))</span> <span style="color: #3399cc">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #000080"></span><span style="color: #00cd00">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00cd00">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #00cd00">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #00cd00">chan</span> <span style="color: #00cd00">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdcd00">for</span> <span class="nx">hungryCows</span> <span style="color: #3399cc">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #cd00cd">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #3399cc">:=</span> <span style="color: #3399cc">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdcd00">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #3399cc">==</span> <span style="color: #cd0000">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #3399cc">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #cdcd00">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #cd0000">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span style="color: #cd00cd">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #3399cc">&lt;-</span> <span style="color: #cdcd00">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #3399cc">&lt;-</span> <span style="color: #cd0000">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #000080">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #000080"></span><span style="color: #00cd00">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #00cd00">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">make</span><span class="p">(</span><span style="color: #00cd00">chan</span> <span style="color: #00cd00">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">make</span><span class="p">(</span><span style="color: #00cd00">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdcd00">for</span> <span class="nx">cownum</span> <span style="color: #3399cc">:=</span> <span style="color: #cd00cd">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #3399cc">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #cdcd00">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdcd00">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #3399cc">:=</span> <span style="color: #3399cc">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #cdcd00">if</span> <span class="nx">farmerSaid</span> <span style="color: #3399cc">==</span> <span style="color: #cd0000">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #00cd00">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nf">runFarm</span><span class="p">(</span><span style="color: #cd00cd">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #cd0000">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='vs'><h2><a id='stylelink' href='vs.html' alt='View only vs'>vs</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a31515">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a31515">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a31515">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">type</span> <span class="nx">Moo</span> <span style="color: #0000ff">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #2b91af">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #2b91af">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #0000ff">chan</span> <span style="color: #2b91af">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008000"></span><span style="color: #0000ff">func</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #2b91af">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #2b91af">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #0000ff">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #0000ff">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #a31515">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span class="nf">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span class="nf">Int31n</span><span class="p">(</span><span class="mi">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008000"></span><span style="color: #0000ff">func</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #2b91af">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #0000ff">chan</span> <span style="color: #2b91af">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span class="mi">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #a31515">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #0000ff">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #a31515">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="mf">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #0000ff">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #a31515">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #008000">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #008000"></span><span style="color: #0000ff">func</span> <span class="nf">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #2b91af">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span style="color: #2b91af">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #0000ff">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #0000ff">go</span> <span class="nf">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">go</span> <span class="nf">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #0000ff">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #a31515">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #0000ff">func</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nf">runFarm</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span class="nf">Println</span><span class="p">(</span><span style="color: #a31515">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='vulcan'><h2><a id='stylelink' href='vulcan.html' alt='View only vulcan'>vulcan</a></h2></a><code><pre style="color: #c9c9c9color: #282c34;" class="chroma"><code><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #bc74c4">package</span> <span style="color: #c9c9c9">main</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #bc74c4">import</span> <span style="color: #56b6c2">(</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #82cc6a">&#34;fmt&#34;</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #82cc6a">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #82cc6a">&#34;time&#34;</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #7fbaf5">type</span> <span style="color: #c9c9c9">Moo</span> <span style="color: #7fbaf5">struct</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">Cow</span>   <span style="color: #57c7ff; font-weight: bold">int</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">Sound</span> <span style="color: #57c7ff; font-weight: bold">string</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">Tube</span>  <span style="color: #7fbaf5">chan</span> <span style="color: #57c7ff; font-weight: bold">bool</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #3e4460">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #3e4460"></span><span style="color: #7fbaf5">func</span> <span style="color: #57c7ff">cow</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">num</span> <span style="color: #57c7ff; font-weight: bold">int</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">mootube</span> <span style="color: #7fbaf5">chan</span> <span style="color: #c9c9c9">Moo</span><span style="color: #56b6c2">)</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">tube</span> <span style="color: #bc74c4">:=</span> <span style="color: #7fbaf5">make</span><span style="color: #56b6c2">(</span><span style="color: #7fbaf5">chan</span> <span style="color: #57c7ff; font-weight: bold">bool</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #7fbaf5">for</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #7fbaf5">select</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #7fbaf5">case</span> <span style="color: #c9c9c9">mootube</span> <span style="color: #bc74c4">&lt;-</span> <span style="color: #c9c9c9">Moo</span><span style="color: #56b6c2">{</span><span style="color: #c9c9c9">num</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;moo&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">tube</span><span style="color: #56b6c2">}:</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">num</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;mooed through the mootube&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #bc74c4">&lt;-</span><span style="color: #c9c9c9">tube</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">num</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;is being fed and stops mooing&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">mootube</span> <span style="color: #bc74c4">&lt;-</span> <span style="color: #c9c9c9">Moo</span><span style="color: #56b6c2">{</span><span style="color: #c9c9c9">num</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;mooh&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #cf5967; background-color: #43454f">nil</span><span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">num</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;moos one last time out of happyness&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #7fbaf5">return</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #7fbaf5">default</span><span style="color: #56b6c2">:</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">num</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;mooed through the mootube and was ignored&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">time</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Sleep</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">time</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Duration</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">rand</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Int31n</span><span style="color: #56b6c2">(</span><span style="color: #56b6c2">1000</span><span style="color: #56b6c2">))</span> <span style="color: #bc74c4">*</span> <span style="color: #c9c9c9">time</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Millisecond</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #3e4460">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #3e4460"></span><span style="color: #7fbaf5">func</span> <span style="color: #57c7ff">farmer</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">numcows</span> <span style="color: #57c7ff; font-weight: bold">int</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">mootube</span> <span style="color: #7fbaf5">chan</span> <span style="color: #c9c9c9">Moo</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">farmertube</span> <span style="color: #7fbaf5">chan</span> <span style="color: #57c7ff; font-weight: bold">string</span><span style="color: #56b6c2">)</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Farmer starts listening to the mootube&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #7fbaf5">for</span> <span style="color: #c9c9c9">hungryCows</span> <span style="color: #bc74c4">:=</span> <span style="color: #c9c9c9">numcows</span><span style="color: #56b6c2">;</span> <span style="color: #c9c9c9">hungryCows</span> <span style="color: #56b6c2">&gt;</span> <span style="color: #56b6c2">0</span><span style="color: #56b6c2">;</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #c9c9c9">moo</span> <span style="color: #bc74c4">:=</span> <span style="color: #bc74c4">&lt;-</span><span style="color: #c9c9c9">mootube</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #7fbaf5">if</span> <span style="color: #c9c9c9">moo</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Sound</span> <span style="color: #bc74c4">==</span> <span style="color: #82cc6a">&#34;mooh&#34;</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Farmer heard a moo of relief from cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">moo</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Cow</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">hungryCows</span><span style="color: #bc74c4">--</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #56b6c2">}</span> <span style="color: #7fbaf5">else</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Farmer heard a&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">moo</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Sound</span><span style="color: #56b6c2">,</span> <span style="color: #82cc6a">&#34;from cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">moo</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Cow</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">time</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Sleep</span><span style="color: #56b6c2">(</span><span style="color: #56b6c2">2e9</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Farmer starts feeding cow number&#34;</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">moo</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Cow</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">            <span style="color: #c9c9c9">moo</span><span style="color: #56b6c2">.</span><span style="color: #c9c9c9">Tube</span> <span style="color: #bc74c4">&lt;-</span> <span style="color: #cf5967; background-color: #43454f">true</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">farmertube</span> <span style="color: #bc74c4">&lt;-</span> <span style="color: #82cc6a">&#34;yey!&#34;</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #3e4460">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #3e4460"></span><span style="color: #7fbaf5">func</span> <span style="color: #57c7ff">runFarm</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">numcows</span> <span style="color: #57c7ff; font-weight: bold">int</span><span style="color: #56b6c2">)</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">farmertube</span> <span style="color: #bc74c4">:=</span> <span style="color: #7fbaf5">make</span><span style="color: #56b6c2">(</span><span style="color: #7fbaf5">chan</span> <span style="color: #57c7ff; font-weight: bold">string</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">mootube</span> <span style="color: #bc74c4">:=</span> <span style="color: #7fbaf5">make</span><span style="color: #56b6c2">(</span><span style="color: #7fbaf5">chan</span> <span style="color: #c9c9c9">Moo</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #7fbaf5">for</span> <span style="color: #c9c9c9">cownum</span> <span style="color: #bc74c4">:=</span> <span style="color: #56b6c2">0</span><span style="color: #56b6c2">;</span> <span style="color: #c9c9c9">cownum</span> <span style="color: #56b6c2">&lt;</span> <span style="color: #c9c9c9">numcows</span><span style="color: #56b6c2">;</span> <span style="color: #c9c9c9">cownum</span><span style="color: #bc74c4">++</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #7fbaf5">go</span> <span style="color: #57c7ff">cow</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">cownum</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">mootube</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #7fbaf5">go</span> <span style="color: #57c7ff">farmer</span><span style="color: #56b6c2">(</span><span style="color: #c9c9c9">numcows</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">mootube</span><span style="color: #56b6c2">,</span> <span style="color: #c9c9c9">farmertube</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">farmerSaid</span> <span style="color: #bc74c4">:=</span> <span style="color: #bc74c4">&lt;-</span><span style="color: #c9c9c9">farmertube</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #7fbaf5">if</span> <span style="color: #c9c9c9">farmerSaid</span> <span style="color: #bc74c4">==</span> <span style="color: #82cc6a">&#34;yey!&#34;</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">        <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;All cows are happy.&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #56b6c2">}</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #7fbaf5">func</span> <span style="color: #57c7ff">main</span><span style="color: #56b6c2">()</span> <span style="color: #56b6c2">{</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #57c7ff">runFarm</span><span style="color: #56b6c2">(</span><span style="color: #56b6c2">4</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9">    <span style="color: #c9c9c9">fmt</span><span style="color: #56b6c2">.</span><span style="color: #57c7ff">Println</span><span style="color: #56b6c2">(</span><span style="color: #82cc6a">&#34;done&#34;</span><span style="color: #56b6c2">)</span>
</span></span><span style="display: flex;color: #c9c9c9"><span style="color: #c9c9c9"><span style="color: #56b6c2">}</span></span></span></code></pre></code><a name='witchhazel'><h2><a id='stylelink' href='witchhazel.html' alt='View only witchhazel'>witchhazel</a></h2></a><code><pre style="color: #f8f8f2; background-color: #433e56;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ffb8d1">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #ffb8d1">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #1bc5e0">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #1bc5e0">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #1bc5e0">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c2ffdf">type</span> <span class="nx">Moo</span> <span style="color: #c2ffdf">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #c2ffdf">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #c2ffdf">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #c2ffdf">chan</span> <span style="color: #c2ffdf">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b0bec5">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #b0bec5"></span><span style="color: #c2ffdf">func</span> <span style="color: #ceb1ff">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #c2ffdf">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #c2ffdf">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span style="color: #ffb8d1">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #c2ffdf">chan</span> <span style="color: #c2ffdf">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c2ffdf">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c2ffdf">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c2ffdf">case</span> <span class="nx">mootube</span> <span style="color: #ffb8d1">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #ffb8d1">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span style="color: #ffb8d1">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #c2ffdf">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #c2ffdf">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c2ffdf">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ceb1ff">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #ceb1ff">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #ceb1ff">Int31n</span><span class="p">(</span><span style="color: #c5a3ff">1000</span><span class="p">))</span> <span style="color: #ffb8d1">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b0bec5">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #b0bec5"></span><span style="color: #c2ffdf">func</span> <span style="color: #ceb1ff">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #c2ffdf">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #c2ffdf">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #c2ffdf">chan</span> <span style="color: #c2ffdf">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c2ffdf">for</span> <span class="nx">hungryCows</span> <span style="color: #ffb8d1">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #c5a3ff">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span style="color: #ffb8d1">:=</span> <span style="color: #ffb8d1">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c2ffdf">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span style="color: #ffb8d1">==</span> <span style="color: #1bc5e0">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span style="color: #ffb8d1">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #c2ffdf">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #1bc5e0">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #ceb1ff">Sleep</span><span class="p">(</span><span style="color: #c5a3ff">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span style="color: #ffb8d1">&lt;-</span> <span style="color: #c2ffdf">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ffb8d1">&lt;-</span> <span style="color: #1bc5e0">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #b0bec5">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #b0bec5"></span><span style="color: #c2ffdf">func</span> <span style="color: #ceb1ff">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #c2ffdf">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span style="color: #ffb8d1">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #c2ffdf">chan</span> <span style="color: #c2ffdf">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span style="color: #ffb8d1">:=</span> <span class="nb">make</span><span class="p">(</span><span style="color: #c2ffdf">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c2ffdf">for</span> <span class="nx">cownum</span> <span style="color: #ffb8d1">:=</span> <span style="color: #c5a3ff">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span style="color: #ffb8d1">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #c2ffdf">go</span> <span style="color: #ceb1ff">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c2ffdf">go</span> <span style="color: #ceb1ff">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span style="color: #ffb8d1">:=</span> <span style="color: #ffb8d1">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c2ffdf">if</span> <span class="nx">farmerSaid</span> <span style="color: #ffb8d1">==</span> <span style="color: #1bc5e0">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #c2ffdf">func</span> <span style="color: #ceb1ff">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #ceb1ff">runFarm</span><span class="p">(</span><span style="color: #c5a3ff">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #ceb1ff">Println</span><span class="p">(</span><span style="color: #1bc5e0">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='xcode-dark'><h2><a id='stylelink' href='xcode-dark.html' alt='View only xcode-dark'>xcode-dark</a></h2></a><code><pre style="color: #ffffff; background-color: #1f1f24;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fc5fa3">package</span> <span class="nx">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fc5fa3">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc6a5d">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc6a5d">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc6a5d">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fc5fa3">type</span> <span class="nx">Moo</span> <span style="color: #fc5fa3">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Cow</span>   <span style="color: #fc5fa3">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Sound</span> <span style="color: #fc5fa3">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">Tube</span>  <span style="color: #fc5fa3">chan</span> <span style="color: #fc5fa3">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6c7986">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6c7986"></span><span style="color: #fc5fa3">func</span> <span style="color: #41a1c0">cow</span><span class="p">(</span><span class="nx">num</span> <span style="color: #fc5fa3">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fc5fa3">chan</span> <span class="nx">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">tube</span> <span class="o">:=</span> <span style="color: #d0a8ff">make</span><span class="p">(</span><span style="color: #fc5fa3">chan</span> <span style="color: #fc5fa3">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc5fa3">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fc5fa3">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fc5fa3">case</span> <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;moo&#34;</span><span class="p">,</span> <span class="nx">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="o">&lt;-</span><span class="nx">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">mootube</span> <span class="o">&lt;-</span> <span class="nx">Moo</span><span class="p">{</span><span class="nx">num</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #fc5fa3">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #fc5fa3">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fc5fa3">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Cow number&#34;</span><span class="p">,</span> <span class="nx">num</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #41a1c0">Sleep</span><span class="p">(</span><span class="nx">time</span><span class="p">.</span><span style="color: #41a1c0">Duration</span><span class="p">(</span><span class="nx">rand</span><span class="p">.</span><span style="color: #41a1c0">Int31n</span><span class="p">(</span><span style="color: #d0bf69">1000</span><span class="p">))</span> <span class="o">*</span> <span class="nx">time</span><span class="p">.</span><span class="nx">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6c7986">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6c7986"></span><span style="color: #fc5fa3">func</span> <span style="color: #41a1c0">farmer</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #fc5fa3">int</span><span class="p">,</span> <span class="nx">mootube</span> <span style="color: #fc5fa3">chan</span> <span class="nx">Moo</span><span class="p">,</span> <span class="nx">farmertube</span> <span style="color: #fc5fa3">chan</span> <span style="color: #fc5fa3">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc5fa3">for</span> <span class="nx">hungryCows</span> <span class="o">:=</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">hungryCows</span> <span class="p">&gt;</span> <span style="color: #d0bf69">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">moo</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fc5fa3">if</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span> <span class="o">==</span> <span style="color: #fc6a5d">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">hungryCows</span><span class="o">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #fc5fa3">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Sound</span><span class="p">,</span> <span style="color: #fc6a5d">&#34;from cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">time</span><span class="p">.</span><span style="color: #41a1c0">Sleep</span><span class="p">(</span><span style="color: #d0bf69">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span class="nx">moo</span><span class="p">.</span><span class="nx">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span class="nx">moo</span><span class="p">.</span><span class="nx">Tube</span> <span class="o">&lt;-</span> <span style="color: #fc5fa3">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">&lt;-</span> <span style="color: #fc6a5d">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #6c7986">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #6c7986"></span><span style="color: #fc5fa3">func</span> <span style="color: #41a1c0">runFarm</span><span class="p">(</span><span class="nx">numcows</span> <span style="color: #fc5fa3">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmertube</span> <span class="o">:=</span> <span style="color: #d0a8ff">make</span><span class="p">(</span><span style="color: #fc5fa3">chan</span> <span style="color: #fc5fa3">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">mootube</span> <span class="o">:=</span> <span style="color: #d0a8ff">make</span><span class="p">(</span><span style="color: #fc5fa3">chan</span> <span class="nx">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc5fa3">for</span> <span class="nx">cownum</span> <span class="o">:=</span> <span style="color: #d0bf69">0</span><span class="p">;</span> <span class="nx">cownum</span> <span class="p">&lt;</span> <span class="nx">numcows</span><span class="p">;</span> <span class="nx">cownum</span><span class="o">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #fc5fa3">go</span> <span style="color: #41a1c0">cow</span><span class="p">(</span><span class="nx">cownum</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc5fa3">go</span> <span style="color: #41a1c0">farmer</span><span class="p">(</span><span class="nx">numcows</span><span class="p">,</span> <span class="nx">mootube</span><span class="p">,</span> <span class="nx">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">farmerSaid</span> <span class="o">:=</span> <span class="o">&lt;-</span><span class="nx">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #fc5fa3">if</span> <span class="nx">farmerSaid</span> <span class="o">==</span> <span style="color: #fc6a5d">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #fc5fa3">func</span> <span style="color: #41a1c0">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #41a1c0">runFarm</span><span class="p">(</span><span style="color: #d0bf69">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="nx">fmt</span><span class="p">.</span><span style="color: #41a1c0">Println</span><span class="p">(</span><span style="color: #fc6a5d">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><a name='xcode'><h2><a id='stylelink' href='xcode.html' alt='View only xcode'>xcode</a></h2></a><code><pre style="background-color: #ffffff;" class="chroma"><code><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a90d91">package</span> <span style="color: #000000">main</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a90d91">import</span> <span class="p">(</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c41a16">&#34;fmt&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c41a16">&#34;math/rand&#34;</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #c41a16">&#34;time&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a90d91">type</span> <span style="color: #000000">Moo</span> <span style="color: #a90d91">struct</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Cow</span>   <span style="color: #a90d91">int</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Sound</span> <span style="color: #a90d91">string</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">Tube</span>  <span style="color: #a90d91">chan</span> <span style="color: #a90d91">bool</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #177500">// A cow will moo until it is being fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #177500"></span><span style="color: #a90d91">func</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">num</span> <span style="color: #a90d91">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #a90d91">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">tube</span> <span style="color: #000000">:=</span> <span style="color: #a90d91">make</span><span class="p">(</span><span style="color: #a90d91">chan</span> <span style="color: #a90d91">bool</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a90d91">for</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a90d91">select</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a90d91">case</span> <span style="color: #000000">mootube</span> <span style="color: #000000">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;moo&#34;</span><span class="p">,</span> <span style="color: #000000">tube</span><span class="p">}:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;mooed through the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">&lt;-</span><span style="color: #000000">tube</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;is being fed and stops mooing&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">mootube</span> <span style="color: #000000">&lt;-</span> <span style="color: #000000">Moo</span><span class="p">{</span><span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;mooh&#34;</span><span class="p">,</span> <span style="color: #a90d91">nil</span><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;moos one last time out of happyness&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #a90d91">return</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a90d91">default</span><span class="p">:</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Cow number&#34;</span><span class="p">,</span> <span style="color: #000000">num</span><span class="p">,</span> <span style="color: #c41a16">&#34;mooed through the mootube and was ignored&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Duration</span><span class="p">(</span><span style="color: #000000">rand</span><span class="p">.</span><span style="color: #000000">Int31n</span><span class="p">(</span><span style="color: #1c01ce">1000</span><span class="p">))</span> <span style="color: #000000">*</span> <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Millisecond</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #177500">// The farmer wants to put food in all the mootubes to stop the mooing
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #177500"></span><span style="color: #a90d91">func</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #a90d91">int</span><span class="p">,</span> <span style="color: #000000">mootube</span> <span style="color: #a90d91">chan</span> <span style="color: #000000">Moo</span><span class="p">,</span> <span style="color: #000000">farmertube</span> <span style="color: #a90d91">chan</span> <span style="color: #a90d91">string</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer starts listening to the mootube&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a90d91">for</span> <span style="color: #000000">hungryCows</span> <span style="color: #000000">:=</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">hungryCows</span> <span class="p">&gt;</span> <span style="color: #1c01ce">0</span><span class="p">;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000">moo</span> <span style="color: #000000">:=</span> <span style="color: #000000">&lt;-</span><span style="color: #000000">mootube</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a90d91">if</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span> <span style="color: #000000">==</span> <span style="color: #c41a16">&#34;mooh&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer heard a moo of relief from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">hungryCows</span><span style="color: #000000">--</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span> <span style="color: #a90d91">else</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer heard a&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Sound</span><span class="p">,</span> <span style="color: #c41a16">&#34;from cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">time</span><span class="p">.</span><span style="color: #000000">Sleep</span><span class="p">(</span><span style="color: #1c01ce">2e9</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer starts feeding cow number&#34;</span><span class="p">,</span> <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Cow</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">            <span style="color: #000000">moo</span><span class="p">.</span><span style="color: #000000">Tube</span> <span style="color: #000000">&lt;-</span> <span style="color: #a90d91">true</span>
</span></span><span style="display: flex;"><span class="cl">        <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;Farmer doesn&#39;t hear a single moo anymore. All done!&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmertube</span> <span style="color: #000000">&lt;-</span> <span style="color: #c41a16">&#34;yey!&#34;</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #177500">// The farm starts out with mooing cows that wants to be fed
</span></span></span><span style="display: flex;"><span class="cl"><span style="color: #177500"></span><span style="color: #a90d91">func</span> <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #000000">numcows</span> <span style="color: #a90d91">int</span><span class="p">)</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmertube</span> <span style="color: #000000">:=</span> <span style="color: #a90d91">make</span><span class="p">(</span><span style="color: #a90d91">chan</span> <span style="color: #a90d91">string</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">mootube</span> <span style="color: #000000">:=</span> <span style="color: #a90d91">make</span><span class="p">(</span><span style="color: #a90d91">chan</span> <span style="color: #000000">Moo</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a90d91">for</span> <span style="color: #000000">cownum</span> <span style="color: #000000">:=</span> <span style="color: #1c01ce">0</span><span class="p">;</span> <span style="color: #000000">cownum</span> <span class="p">&lt;</span> <span style="color: #000000">numcows</span><span class="p">;</span> <span style="color: #000000">cownum</span><span style="color: #000000">++</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #a90d91">go</span> <span style="color: #000000">cow</span><span class="p">(</span><span style="color: #000000">cownum</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a90d91">go</span> <span style="color: #000000">farmer</span><span class="p">(</span><span style="color: #000000">numcows</span><span class="p">,</span> <span style="color: #000000">mootube</span><span class="p">,</span> <span style="color: #000000">farmertube</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">farmerSaid</span> <span style="color: #000000">:=</span> <span style="color: #000000">&lt;-</span><span style="color: #000000">farmertube</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #a90d91">if</span> <span style="color: #000000">farmerSaid</span> <span style="color: #000000">==</span> <span style="color: #c41a16">&#34;yey!&#34;</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">        <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;All cows are happy.&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span>
</span></span><span style="display: flex;"><span class="cl">
</span></span><span style="display: flex;"><span class="cl"><span style="color: #a90d91">func</span> <span style="color: #000000">main</span><span class="p">()</span> <span class="p">{</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">runFarm</span><span class="p">(</span><span style="color: #1c01ce">4</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl">    <span style="color: #000000">fmt</span><span class="p">.</span><span style="color: #000000">Println</span><span class="p">(</span><span style="color: #c41a16">&#34;done&#34;</span><span class="p">)</span>
</span></span><span style="display: flex;"><span class="cl"><span class="p">}</span></span></span></code></pre></code><p><a id='bottom' href='index.html' alt='Back to overview'>Back to overview</a></p><p><a id='bottom' href='../index.html' alt='Go to the other gallery'>Gallery with shorter code samples</a></p><small>Generated 2023-01-12 by <a href="https://github.com/xyproto">xyproto</a> using <a href="https://github.com/xyproto/splash">splash</a>.</small></body></html>